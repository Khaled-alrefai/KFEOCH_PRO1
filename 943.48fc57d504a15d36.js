"use strict";(self.webpackChunkkfeoch02=self.webpackChunkkfeoch02||[]).push([[943],{4943:(Oe,J,o)=>{o.r(J),o.d(J,{AdminConfigModule:()=>Qe});var c=o(6895),u=o(9116),U=o(4210),F=o(9391),Z=o(5035),e=o(4650),T=o(9777),S=o(3184),B=o(445),x=o(3267),P=o(7392),p=o(6338),m=o(3238),y=o(4859),D=o(3683),h=o(9383);function X(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(3);return e.KtG("over"===a.mode&&a.close())}),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.TgZ(3,"h3",9),e._uU(4),e.qZA(),e.TgZ(5,"p",10),e._uU(6),e.qZA()()}if(2&n){const t=s.$implicit;e.Q6J("routerLink",t.routerLink),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.hij(" ",t.subTitle," ")}}function K(n,s){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"chevron_left"),e.qZA())}function z(n,s){1&n&&(e.TgZ(0,"mat-icon"),e._uU(1,"chevron_right"),e.qZA())}let j=(()=>{class n{constructor(t,i,a){this.deviceService=t,this.languageService=i,this.accountService=a,this.isHandset=this.deviceService.isHandset$,this.dir=this.languageService.currentDirection$,this.routes=this.accountService.getRouteConfig(F.E_)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.U),e.Y36(Z.Z),e.Y36(S.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-config-nav"]],decls:16,vars:12,consts:[[1,"office-side-nav2",3,"dir"],[3,"opened","mode"],["drawer",""],["translate",""],["mat-list-item","","routerLinkActive","office-home-active",3,"routerLink","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",1,"float-drawer-toggle",3,"click"],[4,"ngIf"],["mat-list-item","","routerLinkActive","office-home-active",3,"routerLink","click"],["mat-list-icon","",1,"material-symbols-outlined"],["mat-line","","mat-h3","","translate",""],["mat-line","","translate",""]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"mat-sidenav-container",0),e.ALo(1,"async"),e.TgZ(2,"mat-sidenav",1,2),e.ALo(4,"async"),e.ALo(5,"async"),e.TgZ(6,"mat-toolbar")(7,"span",3),e._uU(8,"Licenses"),e.qZA()(),e.TgZ(9,"mat-action-list"),e.YNc(10,X,7,4,"button",4),e.qZA()(),e.TgZ(11,"mat-sidenav-content")(12,"button",5),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(3);return e.KtG(d.toggle())}),e.YNc(13,K,2,0,"mat-icon",6),e.YNc(14,z,2,0,"mat-icon",6),e.qZA(),e._UZ(15,"router-outlet"),e.qZA()()}if(2&t){const a=e.MAs(3);e.Q6J("dir","ltr"===e.lcZ(1,6,i.dir)?"ltr":"rtl"),e.xp6(2),e.Q6J("opened",!e.lcZ(4,8,i.isHandset)||"false")("mode",e.lcZ(5,10,i.isHandset)?"over":"side"),e.xp6(8),e.Q6J("ngForOf",i.routes),e.xp6(3),e.Q6J("ngIf",a.opened),e.xp6(1),e.Q6J("ngIf",!a.opened)}},dependencies:[c.sg,c.O5,u.lC,u.rH,u.Od,B.Lv,x.JX,x.TM,x.Rh,P.Hw,p.i$,p.Tg,m.X2,p.Nh,y.lW,D.Ye,h.Pi,c.Ov]}),n})();var R=o(9300),A=o(6129),N=o(4476),M=o(7009),L=o(1572),v=o(782),l=o(4006),G=o(3218);function V(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.save())}),e.TgZ(1,"h1",4),e._uU(2," Security "),e.qZA(),e.TgZ(3,"h3",5),e._uU(4," Change Password "),e.qZA(),e.TgZ(5,"p",6),e._uU(6," Insert needed fields to change your password "),e.qZA(),e.TgZ(7,"mat-grid-list",7)(8,"mat-grid-tile")(9,"div",8),e._UZ(10,"app-input",9),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"mat-grid-tile")(13,"div",8),e._UZ(14,"app-input",10),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"mat-grid-tile")(17,"div",8),e._UZ(18,"app-input",11),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"mat-grid-list",12)(21,"mat-grid-tile")(22,"div",8)(23,"button",13),e.ALo(24,"async"),e.TgZ(25,"span",6),e._uU(26,"Save Changes"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.frm),e.xp6(10),e.Q6J("formGroup",t.frm)("label",e.lcZ(11,8,"Current Password")),e.xp6(4),e.Q6J("formGroup",t.frm)("label",e.lcZ(15,10,"New Password")),e.xp6(4),e.Q6J("formGroup",t.frm)("label",e.lcZ(19,12,"Confirm Password")),e.xp6(5),e.Q6J("disabled",t.frm.invalid||e.lcZ(24,14,t.isLoading))}}function W(n,s){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"mat-spinner",15),e.qZA())}let ee=(()=>{class n{constructor(t,i,a,r,d){this.deviceService=t,this.accountService=i,this.confirm=a,this.snackBar=r,this.languageService=d,this.isHandset=this.deviceService.isHandset$,this.isLoading=this.accountService.isLogging,this.language=this.languageService.currentLanguage,this.frm=this.accountService.createOfficeChangePasswordForm()}ngOnInit(){}save(){this.frm.invalid||this.confirm.open({Type:"change"}).pipe((0,R.h)(t=>t),(0,A.z)(()=>this.accountService.httpadminChangePassword(this.frm.getRawValue()))).subscribe(t=>{this.snackBar.open("ar"===this.language?t.MessageArabic:t.Message,this.languageService.translate("Dismiss"),{duration:3e3}),this.frm.reset()})}reset(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.U),e.Y36(S.B),e.Y36(N.z),e.Y36(M.ux),e.Y36(Z.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-password-change"]],decls:5,vars:7,consts:[[1,"office-home-content",3,"ngClass"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","saving-data",4,"ngIf"],[3,"formGroup","ngSubmit"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate",""],["rowHeight","75","cols","1"],[1,"form-field-container"],["controlName","CurrentPassword","type","password",3,"formGroup","label"],["controlName","NewPassword","type","password",3,"formGroup","label"],["controlName","PasswordConfirm","type","password",3,"formGroup","label"],["rowHeight","60","cols","1",1,"actions-container"],["mat-raised-button","","color","primary",3,"disabled"],[1,"saving-data"],["diameter","30"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.YNc(2,V,27,16,"form",1),e.qZA(),e.YNc(3,W,2,0,"div",2),e.ALo(4,"async")),2&t&&(e.Q6J("ngClass",e.lcZ(1,3,i.isHandset)?"office-home-content-handset":""),e.xp6(2),e.Q6J("ngIf",i.frm),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,5,i.isLoading)))},dependencies:[c.mk,c.O5,y.lW,L.Ou,v.Il,v.DX,l._Y,l.JL,l.sg,G.a,h.Pi,c.Ov,h.X$]}),n})();var _=o(1135),f=o(8746),te=o(2340),ne=o(529);let I=(()=>{class n{constructor(t){this.http=t,this.url=te.N.apiUrl+"account/",this.isLoadingUsers=new _.X(!1),this.isLoadingRoles=new _.X(!1),this.isLoadingUser=new _.X(!1),this.isChangingPassword=new _.X(!1),this.isChangingRoles=new _.X(!1),this.isAddingUser=new _.X(!1),this.isDeactivating=new _.X(!1)}httpGetAllUsers(){return this.isLoadingUsers.next(!0),this.http.get(this.url+"users").pipe((0,f.x)(()=>this.isLoadingUsers.next(!1)))}httpGetUserById(t){return this.isLoadingUser.next(!0),this.http.get(this.url+"users/"+t).pipe((0,f.x)(()=>this.isLoadingUser.next(!1)))}httpGetRoles(){return this.isLoadingRoles.next(!0),this.http.get(this.url+"roles").pipe((0,f.x)(()=>this.isLoadingRoles.next(!1)))}httpChangePassword(t,i){return this.isChangingPassword.next(!0),this.http.post(this.url+"user-resetpassword",{id:t,newPassword:i}).pipe((0,f.x)(()=>this.isChangingPassword.next(!1)))}httpChangeRoles(t,i){return this.isChangingRoles.next(!0),this.http.put(this.url+"users/"+t,{id:t,roles:i}).pipe((0,f.x)(()=>this.isChangingRoles.next(!1)))}httpAddUser(t){return this.isAddingUser.next(!0),this.http.post(this.url+"add-user",t).pipe((0,f.x)(()=>this.isAddingUser.next(!1)))}httpDeactivateAccount(t){return this.isDeactivating.next(!0),this.http.get(this.url+"deactivate-account/"+t).pipe((0,f.x)(()=>this.isDeactivating.next(!1)))}httpActivateAccount(t){return this.isDeactivating.next(!0),this.http.get(this.url+"activate-account/"+t).pipe((0,f.x)(()=>this.isDeactivating.next(!1)))}get isLoadingUsers$(){return this.isLoadingUsers.asObservable()}get isLoadingUser$(){return this.isLoadingUser.asObservable()}get isLoadingRoles$(){return this.isLoadingRoles.asObservable()}get isChangingPassword$(){return this.isChangingPassword.asObservable()}get isChangingRoles$(){return this.isChangingRoles.asObservable()}get isAddingUser$(){return this.isAddingUser.asObservable()}get isDeactivating$(){return this.isDeactivating.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ne.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ie=o(7619);function ae(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.save())}),e.TgZ(1,"h1",4),e._uU(2," Add New User "),e.qZA(),e.TgZ(3,"h3",5),e._uU(4," Register a new user "),e.qZA(),e.TgZ(5,"p",6),e._uU(6," Please fill all fields to register a new user "),e.qZA(),e.TgZ(7,"mat-grid-list",7)(8,"mat-grid-tile")(9,"div",8),e._UZ(10,"app-input",9),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"mat-grid-tile")(13,"div",8),e._UZ(14,"app-input",10),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"mat-grid-tile")(17,"div",8),e._UZ(18,"app-input",11),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"mat-grid-tile")(21,"div",8),e._UZ(22,"app-input",12),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"mat-grid-tile")(25,"div",8),e._UZ(26,"app-select",13),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"async"),e.ALo(30,"async"),e.qZA()()(),e.TgZ(31,"mat-grid-list",14)(32,"mat-grid-tile")(33,"div",8)(34,"button",15),e.ALo(35,"async"),e.TgZ(36,"span",6),e._uU(37,"Save Changes"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.frm),e.xp6(10),e.Q6J("isAsync",!0)("formGroup",t.frm)("label",e.lcZ(11,18,"User Name")),e.xp6(4),e.Q6J("isAsync",!0)("formGroup",t.frm)("label",e.lcZ(15,20,"Email Address")),e.xp6(4),e.Q6J("formGroup",t.frm)("label",e.lcZ(19,22,"Password")),e.xp6(4),e.Q6J("formGroup",t.frm)("label",e.lcZ(23,24,"Confirm Password")),e.xp6(4),e.Q6J("formGroup",t.frm)("label",e.lcZ(27,26,"Roles"))("placeHolder",e.lcZ(28,28,"Select Role"))("options",e.lcZ(29,30,t.roles$))("isLoading",e.lcZ(30,32,t.isLoadingRoles$))("isMulty",!0),e.xp6(8),e.Q6J("disabled",t.frm.invalid||e.lcZ(35,34,t.isLoading))}}function se(n,s){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"mat-spinner",17),e.qZA())}let oe=(()=>{class n{constructor(t,i,a,r,d,C,g){this.deviceService=t,this.languageService=i,this.accountService=a,this.userManager=r,this.confirm=d,this.snackBar=C,this.router=g,this.isHandset=this.deviceService.isHandset$,this.frm=this.accountService.createUserRegisterForm(),this.roles$=this.userManager.httpGetRoles(),this.isLoadingRoles$=this.userManager.isLoadingRoles$,this.isLoading=this.userManager.isAddingUser$}ngOnInit(){}save(){this.frm.invalid||this.confirm.open({Type:"add"}).pipe((0,R.h)(t=>t),(0,A.z)(()=>this.userManager.httpAddUser(this.frm.value))).subscribe(t=>{t&&(this.snackBar.open(this.languageService.translate("User Added Successfully"),this.languageService.translate("Dismiss"),{duration:2e3}),this.router.navigateByUrl("/kfeoch-admin/config/users"))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.U),e.Y36(Z.Z),e.Y36(S.B),e.Y36(I),e.Y36(N.z),e.Y36(M.ux),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-add"]],decls:5,vars:7,consts:[[1,"office-home-content",3,"ngClass"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","saving-data",4,"ngIf"],[3,"formGroup","ngSubmit"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate",""],["rowHeight","75","cols","1"],[1,"form-field-container"],["controlName","UserName","type","text",3,"isAsync","formGroup","label"],["controlName","Email","type","text",3,"isAsync","formGroup","label"],["controlName","Password","type","password",3,"formGroup","label"],["controlName","PasswordConfirm","type","password",3,"formGroup","label"],["controlName","Roles","optionDisplay","Name","optionValue","Name",3,"formGroup","label","placeHolder","options","isLoading","isMulty"],["rowHeight","60","cols","1",1,"actions-container"],["mat-raised-button","","color","primary",3,"disabled"],[1,"saving-data"],["diameter","30"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.YNc(2,ae,38,36,"form",1),e.qZA(),e.YNc(3,se,2,0,"div",2),e.ALo(4,"async")),2&t&&(e.Q6J("ngClass",e.lcZ(1,3,i.isHandset)?"office-home-content-handset":""),e.xp6(2),e.Q6J("ngIf",i.frm),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,5,i.isLoading)))},dependencies:[c.mk,c.O5,y.lW,L.Ou,v.Il,v.DX,l._Y,l.JL,l.sg,G.a,ie.H,h.Pi,c.Ov,h.X$]}),n})();const re={handset:[{Name:"#",Property:"Id",IsSort:!0},{Name:"User Name",Property:"UserName",NameArabic:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",IsSort:!0},{Name:"Email",Property:"Email",NameArabic:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"},{Name:"Roles",Property:"Roles",NameArabic:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}],nonHandset:[{Name:"#",Property:"Id",IsSort:!0},{Name:"User Name",Property:"UserName",NameArabic:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",IsSort:!0},{Name:"Email",Property:"Email",NameArabic:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"},{Name:"Roles",Property:"Roles",NameArabic:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a"}]};var le=o(1607);let ce=(()=>{class n{constructor(t,i,a,r){this.deviceService=t,this.userManager=i,this.languageService=a,this.router=r,this.isHandset=this.deviceService.isHandset$,this.data=this.userManager.httpGetAllUsers(),this.language$=this.languageService.currentLanguage$,this.isLoading=this.userManager.isLoadingUsers$,this.columns=re}ngOnInit(){}goToUser(t){this.router.navigateByUrl("/kfeoch-admin/config/users/"+t.Id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.U),e.Y36(I),e.Y36(Z.Z),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-list"]],decls:10,vars:10,consts:[[1,"office-home-content",3,"ngClass"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate",""],[3,"data","language$","isLoading","columnsDef","clickable","rowClicked"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"h1",1),e._uU(3," User Manager "),e.qZA(),e.TgZ(4,"h3",2),e._uU(5," List of all users "),e.qZA(),e.TgZ(6,"p",3),e._uU(7," Click on a user to show manage details "),e.qZA(),e.TgZ(8,"app-dynamic-data-table",4),e.NdJ("rowClicked",function(r){return i.goToUser(r)}),e.ALo(9,"async"),e.qZA()()),2&t&&(e.Q6J("ngClass",e.lcZ(1,6,i.isHandset)?"office-home-content-handset":""),e.xp6(8),e.Q6J("data",i.data)("language$",i.language$)("isLoading",i.isLoading)("columnsDef",e.lcZ(9,8,i.isHandset)?i.columns.handset:i.columns.nonHandset)("clickable",!0))},dependencies:[c.mk,le.j,h.Pi,c.Ov]}),n})();var ge=o(4004),Q=o(8505),de=o(3900),w=o(9646),O=o(262),b=o(3546),k=o(9549),q=o(4144),Y=o(9643),me=o(2687),E=o(1281);const ue=["input"],pe=function(n){return{enterDuration:n}},he=["*"],fe=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let ve=0;const _e={provide:l.JU,useExisting:(0,e.Gpc)(()=>H),multi:!0};class be{constructor(s,t){this.source=s,this.checked=t}}const Ce=(0,m.sb)((0,m.pj)((0,m.Kr)((0,m.Id)(class{constructor(n){this._elementRef=n}}))));let Ae=(()=>{class n extends Ce{constructor(t,i,a,r,d,C,g){super(t),this._focusMonitor=i,this._changeDetectorRef=a,this.defaults=d,this._onChange=qe=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(r)||0,this.color=this.defaultColor=d.color||"accent",this._noopAnimations="NoopAnimations"===C,this.id=this._uniqueId=`${g}${++ve}`}get required(){return this._required}set required(t){this._required=(0,E.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,E.Ig)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._focused=!0:t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){e.$Z()},n.\u0275dir=e.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[e.qOj]}),n})(),H=(()=>{class n extends Ae{constructor(t,i,a,r,d,C){super(t,i,a,r,d,C,"mat-slide-toggle-")}_createChangeEvent(t){return new be(this,t)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(me.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(fe),e.Y36(e.QbO,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(1&t&&e.Gf(ue,5),2&t){let a;e.iGM(a=e.CRH())&&(i._inputElement=a.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,i){2&t&&(e.Ikx("id",i.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),e.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[e._Bn([_e]),e.qOj],ngContentSelectors:he,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),e.NdJ("change",function(r){return i._onChangeEvent(r)})("click",function(r){return i._onInputClick(r)}),e.qZA(),e.TgZ(5,"span",5),e._UZ(6,"span",6),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA()()(),e.TgZ(9,"span",9,10),e.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),e.TgZ(11,"span",11),e._uU(12,"\xa0"),e.qZA(),e.Hsn(13),e.qZA()()),2&t){const a=e.MAs(1),r=e.MAs(10);e.uIk("for",i.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!r.textContent||!r.textContent.trim()),e.xp6(1),e.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),e.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),e.xp6(4),e.Q6J("matRippleTrigger",a)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,pe,i._noopAnimations?0:150))}},dependencies:[m.wG,Y.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),n})(),$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[$,m.si,m.BQ,Y.Q8,$,m.BQ]}),n})();function Ue(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-list-item",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.inChangingPassword=!0)}),e.TgZ(1,"p",19),e._uU(2,"**********"),e.qZA(),e.TgZ(3,"p",20),e._uU(4,"Click to change password"),e.qZA()()}}function xe(n,s){if(1&n&&(e.TgZ(0,"mat-form-field")(1,"mat-label",5),e._uU(2," New Password "),e.qZA(),e._UZ(3,"input",21),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formControl",t.passwordControl)}}function Me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card-actions",22)(1,"button",23),e.ALo(2,"async"),e.TgZ(3,"span",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changePassword())}),e._uU(4,"Change Password"),e.qZA()(),e.TgZ(5,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.inChangingPassword=!1)}),e.ALo(6,"async"),e.TgZ(7,"span",5),e._uU(8,"Cancel"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.passwordControl.invalid||e.lcZ(2,2,t.isChangingPassword)),e.xp6(4),e.Q6J("disabled",e.lcZ(6,4,t.isChangingPassword))}}function Le(n,s){if(1&n&&(e.TgZ(0,"mat-list-option",26),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.Name),e.xp6(1),e.hij(" ",t.Name," ")}}function we(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card-actions",22)(1,"button",27),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeRoles())}),e.ALo(2,"async"),e.TgZ(3,"span",5),e._uU(4,"Save Roles"),e.qZA()(),e.TgZ(5,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return r.assignedRoles=a.Roles,e.KtG(r.inChangingRoles=!1)}),e.ALo(6,"async"),e.TgZ(7,"span",5),e._uU(8,"Cancel"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",e.lcZ(2,2,t.isChangingRoles)),e.xp6(4),e.Q6J("disabled",e.lcZ(6,4,t.isChangingRoles))}}function Se(n,s){1&n&&(e.TgZ(0,"span",5),e._uU(1,"Deactivate Account"),e.qZA())}function Re(n,s){1&n&&(e.TgZ(0,"span",5),e._uU(1,"Activate Account"),e.qZA())}function Ne(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"h3",4),e._uU(2),e.TgZ(3,"span",5),e._uU(4,"Management"),e.qZA()(),e.TgZ(5,"p",5),e._uU(6," Manage and change user information "),e.qZA(),e.TgZ(7,"mat-grid-list",6),e.ALo(8,"async"),e.TgZ(9,"mat-grid-tile",7)(10,"mat-card",8)(11,"mat-card-header")(12,"mat-card-title",5),e._uU(13," Password "),e.qZA(),e.TgZ(14,"mat-card-subtitle",5),e._uU(15," A secure password helps protect your KFEOCH account "),e.qZA()(),e.TgZ(16,"mat-card-content")(17,"mat-action-list"),e.YNc(18,Ue,5,0,"mat-list-item",9),e.YNc(19,xe,4,1,"ng-template",null,10,e.W1O),e.qZA()(),e.YNc(21,Me,9,6,"mat-card-actions",11),e.qZA()(),e.TgZ(22,"mat-grid-tile",7)(23,"mat-card",8)(24,"mat-card-header")(25,"mat-card-title",5),e._uU(26," Roles "),e.qZA(),e.TgZ(27,"mat-card-subtitle",5),e._uU(28," Assign user to corresponding roles "),e.qZA()(),e.TgZ(29,"mat-card-content")(30,"mat-selection-list",12),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.assignedRoles=a)})("selectionChange",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.inChangingRoles=!0)}),e.YNc(31,Le,2,2,"mat-list-option",13),e.ALo(32,"async"),e.qZA()(),e.YNc(33,we,9,6,"mat-card-actions",11),e.qZA()(),e.TgZ(34,"mat-grid-tile")(35,"mat-card",14)(36,"mat-card-header")(37,"mat-card-title",5),e._uU(38," Account Status "),e.qZA(),e.TgZ(39,"mat-card-subtitle",5),e._uU(40," Change account activation status "),e.qZA()(),e.TgZ(41,"mat-card-content",15)(42,"mat-slide-toggle",16),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.isActive=a)})("change",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.changeActivation(a.checked))}),e.ALo(43,"async"),e.YNc(44,Se,2,0,"span",17),e.YNc(45,Re,2,0,"span",17),e.qZA()()()()(),e.BQk()}if(2&n){const t=s.$implicit,i=e.MAs(20),a=e.oxw();e.xp6(2),e.hij(" ",t.UserName," "),e.xp6(5),e.Q6J("cols",e.lcZ(8,12,a.isHandset)?1:2),e.xp6(11),e.Q6J("ngIf",!a.inChangingPassword)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",a.inChangingPassword),e.xp6(9),e.Q6J("ngModel",a.assignedRoles),e.xp6(1),e.Q6J("ngForOf",e.lcZ(32,14,a.roles$)),e.xp6(2),e.Q6J("ngIf",a.inChangingRoles),e.xp6(9),e.Q6J("ngModel",a.isActive)("disabled",e.lcZ(43,16,a.isDeactivating)),e.xp6(2),e.Q6J("ngIf",a.isActive),e.xp6(1),e.Q6J("ngIf",!a.isActive)}}function Ie(n,s){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"mat-spinner",29),e.qZA())}const Je=[{path:"",component:j,children:[{path:"",pathMatch:"full",redirectTo:"users"},{path:"users",component:ce,canActivate:[U.a],data:{Roles:["Administrator"]}},{path:"users/:id",component:(()=>{class n{constructor(t,i,a,r,d,C){this.deviceService=t,this.languageService=i,this.userManager=a,this.snackBar=r,this.confirm=d,this.isHandset=this.deviceService.isHandset$,this.userId="",this.inChangingPassword=!1,this.inChangingRoles=!1,this.assignedRoles=[],this.isActive=!1,this.passwordControl=new l.NI("",l.kI.required),this.isLoading=a.isLoadingUser$,this.isChangingPassword=a.isChangingPassword$,this.isChangingRoles=a.isChangingRoles$,this.isDeactivating=a.isDeactivating$,this.roles$=a.httpGetRoles(),this.user$=C.paramMap.pipe((0,R.h)(g=>void 0!==g.get("id")),(0,ge.U)(g=>g.get("id")),(0,Q.b)(g=>this.userId=g),(0,de.w)(g=>a.httpGetUserById(g)),(0,Q.b)(g=>{this.assignedRoles=g.Roles,this.isActive=g.IsActive}))}ngOnInit(){}changePassword(){!this.userId||this.passwordControl.invalid||this.confirm.open({Type:"change"}).pipe((0,A.z)(t=>t?this.userManager.httpChangePassword(this.userId,this.passwordControl.value):(0,w.of)(null))).subscribe(t=>{t&&this.snackBar.open(this.languageService.translate("Password Changed"),this.languageService.translate("Dismiss"),{duration:2e3}),this.inChangingPassword=!1})}changeRoles(){this.confirm.open({Type:"change"}).pipe((0,A.z)(t=>t?this.userManager.httpChangeRoles(this.userId,this.assignedRoles):(0,w.of)(null))).subscribe(t=>{t&&(this.snackBar.open(this.languageService.translate("Roles Changed"),this.languageService.translate("Dismiss"),{duration:2e3}),this.inChangingRoles=!1)})}changeActivation(t){t?this.confirm.open({Type:"change"}).pipe((0,A.z)(i=>i?this.userManager.httpActivateAccount(this.userId):(this.isActive=!1,(0,w.of)(null))),(0,O.K)(i=>{throw this.isActive=!1,i})).subscribe(i=>{i?(this.isActive=!0,this.snackBar.open(this.languageService.translate("Account Activated Successfully"),this.languageService.translate("Dismiss"),{duration:2e3})):this.isActive=!1}):this.confirm.open({Type:"change"}).pipe((0,A.z)(i=>i?this.userManager.httpDeactivateAccount(this.userId):(this.isActive=!0,(0,w.of)(null))),(0,O.K)(i=>{throw this.isActive=!0,i})).subscribe(i=>{i?(this.isActive=!1,this.snackBar.open(this.languageService.translate("Account Deactivated"),this.languageService.translate("Dismiss"),{duration:2e3})):this.isActive=!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.U),e.Y36(Z.Z),e.Y36(I),e.Y36(M.ux),e.Y36(N.z),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-manager"]],decls:11,vars:15,consts:[[1,"office-home-content",3,"ngClass"],["translate","",1,"mat-h1"],[4,"ngIf"],["class","saving-data",4,"ngIf"],["translate","",1,"mat-h3"],["translate",""],["rowHeight","200",1,"config",3,"cols"],["rowspan","2"],[2,"height","90%","min-width","90%"],[3,"click",4,"ngIf","ngIfElse"],["password",""],["align","end",4,"ngIf"],[3,"ngModel","ngModelChange","selectionChange"],["checkboxPosition","before","style","font-family: Roboto",3,"value",4,"ngFor","ngForOf"],[2,"height","80%","min-width","90%"],[2,"text-align","center"],[3,"ngModel","disabled","ngModelChange","change"],["translate","",4,"ngIf"],[3,"click"],["matLine",""],["matLine","","translate","",1,"mat-h6"],["matInput","","type","password",3,"formControl"],["align","end"],["mat-raised-button","","color","primary",3,"disabled"],["translate","","translate","",3,"click"],["mat-raised-button","",3,"disabled","click"],["checkboxPosition","before",2,"font-family","Roboto",3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"saving-data"],["diameter","30"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"h1",1),e._uU(3," User profile info in KFEOCH "),e.qZA(),e.YNc(4,Ne,46,18,"ng-container",2),e.ALo(5,"async"),e.qZA(),e.YNc(6,Ie,2,0,"div",3),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async")),2&t&&(e.Q6J("ngClass",e.lcZ(1,3,i.isHandset)?"office-home-content-handset":""),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,5,i.user$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,7,i.isLoading)||e.lcZ(8,9,i.isChangingRoles)||e.lcZ(9,11,i.isChangingPassword)||e.lcZ(10,13,i.isDeactivating)))},dependencies:[c.mk,c.sg,c.O5,p.i$,p.Tg,m.X2,p.Ub,p.vS,y.lW,L.Ou,b.a8,b.dk,b.dn,b.n5,b.$j,b.hq,v.Il,v.DX,k.KE,k.hX,q.Nt,l.Fj,l.JJ,l.On,l.oH,h.Pi,H,c.Ov]}),n})(),canActivate:[U.a],data:{Roles:["Administrator"]}},{path:"add-user",component:oe,canActivate:[U.a],data:{Roles:["Administrator"]}},{path:"security",component:ee,canActivate:[U.a],data:{Roles:["DictionaryManager","ReportManager","BillingManager","Administrator","Manager","SiteManager","OfficeManager"]}}]}];let Pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(Je),u.Bz]}),n})();var De=o(5173),Ge=o(9596);let Qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,Pe,x.SJ,P.Ps,p.ie,y.ot,D.g0,De.t,L.Cq,b.QW,v.N6,k.lN,q.c,l.u5,l.UX,M.ZX,Ge.w,h.aw,ye]}),n})()}}]);