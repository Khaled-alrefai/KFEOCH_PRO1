"use strict";(self.webpackChunkkfeoch02=self.webpackChunkkfeoch02||[]).push([[307],{2307:(P,M,n)=>{n.r(M),n.d(M,{AdminMessagesModule:()=>z});var l=n(6895),c=n(9116),A=n(5035),e=n(4650),T=n(9777),m=n(9383),S=n(445),u=n(3267),C=n(3683),h=n(6338),b=n(3238),p=n(7392),Z=n(4859);function y(s,i){1&s&&(e.TgZ(0,"mat-icon"),e._uU(1,"chevron_left"),e.qZA())}function N(s,i){1&s&&(e.TgZ(0,"mat-icon"),e._uU(1,"chevron_right"),e.qZA())}let D=(()=>{class s{constructor(t,a){this.deviceService=t,this.languageService=a,this.isHandset=this.deviceService.isHandset$,this.dir=this.languageService.currentDirection$}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(T.U),e.Y36(A.Z))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-admin-messages-nav"]],decls:22,vars:11,consts:[[1,"office-side-nav2",3,"dir"],[3,"opened","mode"],["drawer",""],["translate",""],["mat-list-item","","routerLink","guest-messages","routerLinkActive","office-home-active",3,"click"],["mat-list-icon","",1,"material-symbols-outlined"],["mat-line","","mat-h3","","translate",""],["mat-line","","translate",""],["mat-icon-button","","color","primary",1,"float-drawer-toggle",3,"click"],[4,"ngIf"]],template:function(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"mat-sidenav-container",0),e.ALo(1,"async"),e.TgZ(2,"mat-sidenav",1,2),e.ALo(4,"async"),e.ALo(5,"async"),e.TgZ(6,"mat-toolbar")(7,"span",3),e._uU(8,"Messages"),e.qZA()(),e.TgZ(9,"mat-action-list")(10,"button",4),e.NdJ("click",function(){e.CHM(o);const v=e.MAs(3);return e.KtG("over"===v.mode&&v.close())}),e.TgZ(11,"span",5),e._uU(12,"contact_mail"),e.qZA(),e.TgZ(13,"h3",6),e._uU(14,"Guest Messages"),e.qZA(),e.TgZ(15,"p",7),e._uU(16," List & Filter all guest messages "),e.qZA()()()(),e.TgZ(17,"mat-sidenav-content")(18,"button",8),e.NdJ("click",function(){e.CHM(o);const v=e.MAs(3);return e.KtG(v.toggle())}),e.YNc(19,y,2,0,"mat-icon",9),e.YNc(20,N,2,0,"mat-icon",9),e.qZA(),e._UZ(21,"router-outlet"),e.qZA()()}if(2&t){const o=e.MAs(3);e.Q6J("dir","ltr"===e.lcZ(1,5,a.dir)?"ltr":"rtl"),e.xp6(2),e.Q6J("opened",!e.lcZ(4,7,a.isHandset)||"false")("mode",e.lcZ(5,9,a.isHandset)?"over":"side"),e.xp6(17),e.Q6J("ngIf",o.opened),e.xp6(1),e.Q6J("ngIf",!o.opened)}},dependencies:[l.O5,c.lC,c.rH,c.Od,m.Pi,S.Lv,u.JX,u.TM,u.Rh,C.Ye,h.i$,h.Tg,b.X2,h.Nh,p.Hw,Z.lW,l.Ov]}),s})();var H=n(9751),L=n(3900),f=n(6985),r=n(5412),U=n(5012),d=n(3546),I=n(389);let J=(()=>{class s{constructor(t,a,o){this.message=t,this.siteService=a,this.dialogRef=o}ngOnInit(){this.message.IsRead||this.siteService.readContactUsMessage(this.message.Id).subscribe(t=>{t&&(this.message.IsRead=!0)})}unreadMEssage(){this.siteService.unreadContactUsMessage(this.message.Id).subscribe(t=>{t&&(this.message.IsRead=!1,this.dialogRef.close())})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(r.WI),e.Y36(U.P),e.Y36(r.so))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-message-dialog"]],decls:42,vars:9,consts:[["translate",""],["width","100%","cellSpacing","10"],["nowrap","","translate","",1,"mat-h3"],[1,"mat-h4"],["align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","primary","mat-dialog-close",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title")(3,"span",0),e._uU(4,"Message Number"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"mat-card-subtitle")(7,"span",0),e._uU(8,"on"),e.qZA(),e._uU(9),e.ALo(10,"localizedDate"),e.qZA()(),e.TgZ(11,"mat-card-content")(12,"table",1)(13,"tr")(14,"td",2),e._uU(15,"Sender"),e.qZA(),e.TgZ(16,"td",3),e._uU(17),e.qZA()(),e.TgZ(18,"tr")(19,"td",2),e._uU(20,"Email Address"),e.qZA(),e.TgZ(21,"td",3),e._uU(22),e.qZA()(),e.TgZ(23,"tr")(24,"td",2),e._uU(25,"Phone Number"),e.qZA(),e.TgZ(26,"td",3),e._uU(27),e.qZA()(),e.TgZ(28,"tr")(29,"td",2),e._uU(30,"Subject"),e.qZA(),e.TgZ(31,"td",3),e._uU(32),e.qZA()()()(),e.TgZ(33,"mat-card-actions",4)(34,"button",5),e.NdJ("click",function(){return a.unreadMEssage()}),e.TgZ(35,"mat-icon"),e._uU(36,"mark_email_unread"),e.qZA(),e.TgZ(37,"span",0),e._uU(38," Mark as unread"),e.qZA()(),e.TgZ(39,"button",6)(40,"span",0),e._uU(41,"Close"),e.qZA()()()()),2&t&&(e.xp6(5),e.hij(": #",a.message.Id," "),e.xp6(4),e.hij(" ",e.xi3(10,6,a.message.CreatedDate,"medium")," "),e.xp6(8),e.Oqu(a.message.Name),e.xp6(5),e.Oqu(a.message.Email),e.xp6(5),e.Oqu(a.message.PhoneNumber),e.xp6(5),e.Oqu(a.message.Subject))},dependencies:[m.Pi,p.Hw,r.ZT,d.a8,d.dk,d.dn,d.n5,d.$j,d.hq,Z.lW,I.g]}),s})();var O=n(1607);const F=[{path:"",component:D,children:[{path:"",pathMatch:"full",redirectTo:"guest-messages"},{path:"guest-messages",component:(()=>{class s{constructor(t,a,o,g){this.deviceService=t,this.languageService=a,this.siteService=o,this.dialog=g,this.isHandset=this.deviceService.isHandset$,this.data=new H.y,this.dataSize=this.siteService.guestMessagesSize$,this.columnsDef=f.m.nonHandset,this.isLoading=this.siteService.isSendingContactUs$,this.language$=this.languageService.currentLanguage$}ngOnInit(){this.isHandset.subscribe(t=>{this.columnsDef=t?f.m.handset:f.m.nonHandset})}changeBinding(t){this.data=t.pipe((0,L.w)(a=>this.siteService.getContactUsMessages(a)))}goToMessage(t){this.dialog.open(J,{data:t,panelClass:"dialog-no-padding"})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(T.U),e.Y36(A.Z),e.Y36(U.P),e.Y36(r.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-guest-messages"]],decls:9,vars:14,consts:[[1,"office-home-content",3,"ngClass"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate","",1,"no-margin"],[3,"data","language$","dataSize","columnsDef","isLoading","havePaging","activeSort","activeDirection","isObservableFilter","clickable","haveFilter","bindingChanged","rowClicked"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"h1",1),e._uU(3," Guest Messages "),e.qZA(),e.TgZ(4,"h3",2),e._uU(5," List & Filter all guest messages "),e.qZA(),e.TgZ(6,"p",3),e._uU(7," Click on an message to read "),e.qZA(),e.TgZ(8,"app-dynamic-data-table",4),e.NdJ("bindingChanged",function(g){return a.changeBinding(g)})("rowClicked",function(g){return a.goToMessage(g)}),e.qZA()()),2&t&&(e.Q6J("ngClass",e.lcZ(1,12,a.isHandset)?"office-home-content-handset":""),e.xp6(8),e.Q6J("data",a.data)("language$",a.language$)("dataSize",a.dataSize)("columnsDef",a.columnsDef)("isLoading",a.isLoading)("havePaging",!0)("activeSort","CreatedDate")("activeDirection","desc")("isObservableFilter",!0)("clickable",!0)("haveFilter",!0))},dependencies:[l.mk,m.Pi,O.j,l.Ov]}),s})()}]}];let Y=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[c.Bz.forChild(F),c.Bz]}),s})();var $=n(5173),G=n(4466);let z=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[l.ez,Y,G.m,m.aw,$.t,u.SJ,C.g0,h.ie,p.Ps,r.Is,d.QW,Z.ot]}),s})()}}]);