"use strict";(self.webpackChunkkfeoch02=self.webpackChunkkfeoch02||[]).push([[178],{7178:(He,O,r)=>{r.r(O),r.d(O,{OfficeMembersModule:()=>Je});var f=r(6895),d=r(9116),Z=r(4004),_=r(8505),x=r(3900),$=r(9646),F=r(9300),w=r(6129),L=r(5035),e=r(4650),C=r(9777),S=r(3184),D=r(1584),J=r(614),q=r(4476),k=r(1481),p=r(6338),Q=r(3238),B=r(4850),b=r(7392),v=r(4859),g=r(9383),I=r(1572),R=r(3218),P=r(7619),A=r(4006),U=r(782),j=r(389);function z(i,o){1&i&&(e.ynx(0),e.TgZ(1,"h1",25),e._uU(2," New Owner "),e.qZA(),e.BQk())}function X(i,o){1&i&&(e.TgZ(0,"h1",25),e._uU(1," Edit Owner "),e.qZA())}function K(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2);return e.KtG(a.click())}),e.TgZ(1,"mat-icon"),e._uU(2,"upload"),e.qZA(),e.TgZ(3,"span",7),e._uU(4,"Upload File"),e.qZA()()}}function W(i,o){if(1&i&&(e._UZ(0,"mat-progress-spinner",35),e.ALo(1,"async")),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.Q6J("value",e.lcZ(1,1,n.uploadingType$.get(t.Id)))}}function V(i,o){1&i&&(e.TgZ(0,"mat-icon",41),e._uU(1,"description"),e.qZA())}function ee(i,o){if(1&i&&(e._UZ(0,"mat-progress-spinner",42),e.ALo(1,"async")),2&i){const t=e.oxw().$implicit,n=e.oxw(4);e.Q6J("value",e.lcZ(1,1,n.downloadingFile$.get(t.Id)))}}function te(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-list-item"),e.YNc(1,V,2,0,"mat-icon",36),e.ALo(2,"async"),e.TgZ(3,"div",37)(4,"span",38),e.NdJ("click",function(){const c=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.openFileInNewWindow(c.Id,c.Name))}),e._uU(5),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"p",37),e._uU(8),e.ALo(9,"localizedDate"),e.qZA(),e.TgZ(10,"p",37)(11,"button",39),e.NdJ("click",function(){const a=e.CHM(t),c=a.$implicit,s=a.index,m=e.oxw().index,M=e.oxw(3);return e.KtG(M.deleteFile(c.Id,c.Name,m,s))}),e.TgZ(12,"span",7),e._uU(13,"Delete"),e.qZA()()(),e.YNc(14,ee,2,3,"ng-template",null,40,e.W1O),e.qZA()}if(2&i){const t=o.$implicit,n=e.MAs(15),a=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,5,c.downloadingFile$.get(t.Id)))("ngIfElse",n),e.xp6(4),e.Oqu("ar"===e.lcZ(6,7,c.language$)?a.NameArabic:a.NameEnglish),e.xp6(3),e.Oqu(e.lcZ(9,9,t.AddedDate)),e.xp6(3),e.Q6J("disabled",!c.isAdmin)}}function ie(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28,29),e.NdJ("change",function(a){const s=e.CHM(t).$implicit,m=e.MAs(2);return e.oxw(3).uploadFile(a,s),e.KtG(m.value="")}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"div",30),e._uU(5),e.ALo(6,"async"),e._UZ(7,"span",31),e.YNc(8,K,5,0,"button",32),e.ALo(9,"async"),e.YNc(10,W,2,3,"ng-template",null,33,e.W1O),e.qZA(),e.YNc(12,te,16,11,"mat-list-item",27),e._UZ(13,"mat-divider"),e.BQk()}if(2&i){const t=o.$implicit,n=e.MAs(11),a=e.oxw(3);e.xp6(1),e.Q6J("disabled",e.lcZ(3,5,a.isLoading)),e.xp6(4),e.hij("","ar"===e.lcZ(6,7,a.language$)?t.NameArabic:t.NameEnglish," "),e.xp6(3),e.Q6J("ngIf",!e.lcZ(9,9,a.uploadingType$.get(t.Id)))("ngIfElse",n),e.xp6(4),e.Q6J("ngForOf",t.Files)}}function ne(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h3",6),e._uU(2," Documents "),e.qZA(),e.TgZ(3,"p",7),e._uU(4,"Download & Upload Owner Documents"),e.qZA(),e.TgZ(5,"small",7),e._uU(6," Accepted extensions .png,.jpg,.jpeg,.pdf - Max Size: 5MB "),e.qZA(),e.TgZ(7,"mat-list",26),e.YNc(8,ie,14,11,"ng-container",27),e.qZA(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",t.officeMember.Documents)}}function oe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.save())}),e.YNc(1,z,3,0,"ng-container",4),e.YNc(2,X,2,0,"ng-template",null,5,e.W1O),e.TgZ(4,"h3",6),e._uU(5," Main Information "),e.qZA(),e.TgZ(6,"p",7),e._uU(7,"Please fill in all mandatory fields"),e.qZA(),e.TgZ(8,"mat-grid-list",8),e.ALo(9,"async"),e.TgZ(10,"mat-grid-tile")(11,"div",9),e._UZ(12,"app-input",10),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"mat-grid-tile")(15,"div",9),e._UZ(16,"app-input",11),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"mat-grid-list",8),e.ALo(19,"async"),e.TgZ(20,"mat-grid-tile")(21,"div",9),e._UZ(22,"app-input",12),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"mat-grid-tile")(25,"div",9),e._UZ(26,"app-input",13),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"mat-grid-tile")(29,"div",9),e._UZ(30,"app-input",14),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"mat-grid-tile")(33,"div",9),e._UZ(34,"app-input",15),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"mat-grid-tile")(37,"div",9),e._UZ(38,"app-select",16),e.ALo(39,"translate"),e.ALo(40,"translate"),e.ALo(41,"async"),e.ALo(42,"async"),e.ALo(43,"async"),e.qZA()(),e.TgZ(44,"mat-grid-tile")(45,"div",9),e._UZ(46,"app-select",17),e.ALo(47,"translate"),e.ALo(48,"translate"),e.ALo(49,"async"),e.ALo(50,"async"),e.ALo(51,"async"),e.qZA()()(),e.TgZ(52,"h3",6),e._uU(53," Experience "),e.qZA(),e.TgZ(54,"p",7),e._uU(55,"Please select owner speciality, SEM and experience years"),e.qZA(),e.TgZ(56,"mat-grid-list",8),e.ALo(57,"async"),e.TgZ(58,"mat-grid-tile")(59,"div",9),e._UZ(60,"app-select",18),e.ALo(61,"translate"),e.ALo(62,"translate"),e.ALo(63,"async"),e.ALo(64,"async"),e.ALo(65,"async"),e.qZA()(),e.TgZ(66,"mat-grid-tile")(67,"div",9),e._UZ(68,"app-input",19),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"mat-grid-tile")(71,"div",9),e._UZ(72,"app-input",20),e.ALo(73,"translate"),e.qZA()()(),e.TgZ(74,"div"),e.YNc(75,ne,9,1,"ng-container",21),e.TgZ(76,"mat-grid-list",22)(77,"mat-grid-tile")(78,"div",9)(79,"button",23),e.ALo(80,"async"),e.TgZ(81,"span",7),e._uU(82,"Save Changes"),e.qZA()()()(),e.TgZ(83,"mat-grid-tile")(84,"div",9)(85,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.reset())}),e.ALo(86,"async"),e.TgZ(87,"span",7),e._uU(88,"Reset"),e.qZA()()()()()()()}if(2&i){const t=e.MAs(3),n=e.oxw();e.Q6J("formGroup",n.frm),e.xp6(1),e.Q6J("ngIf",!n.officeMember)("ngIfElse",t),e.xp6(7),e.Q6J("cols",e.lcZ(9,43,n.isHandset)?1:2),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(13,45,"English Name")),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(17,47,"Arabic Name")),e.xp6(2),e.Q6J("cols",e.lcZ(19,49,n.isHandset)?1:3),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(23,51,"Phone Number")),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(27,53,"Email Address")),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(31,55,"Secondary Phone Number")),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(35,57,"National ID")),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(39,59,"Nationality"))("placeHolder",e.lcZ(40,61,"Select Nationality"))("options",e.lcZ(41,63,n.nationalities))("isLoading",e.lcZ(42,65,n.nationalitiesLoading))("optionDisplay","ar"===e.lcZ(43,67,n.language$)?"NameArabic":"NameEnglish"),e.xp6(8),e.Q6J("formGroup",n.frm)("label",e.lcZ(47,69,"Gender"))("placeHolder",e.lcZ(48,71,"Select Gender"))("options",e.lcZ(49,73,n.genders))("isLoading",e.lcZ(50,75,n.gendersLoading))("optionDisplay","ar"===e.lcZ(51,77,n.language$)?"NameArabic":"NameEnglish"),e.xp6(10),e.Q6J("cols",e.lcZ(57,79,n.isHandset)?1:3),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(61,81,"Speciality"))("placeHolder",e.lcZ(62,83,"Select Speciality"))("options",e.lcZ(63,85,n.specialties))("isLoading",e.lcZ(64,87,n.specialtiesLoading))("optionDisplay","ar"===e.lcZ(65,89,n.language$)?"NameArabic":"NameEnglish"),e.xp6(8),e.Q6J("formGroup",n.frm)("label",e.lcZ(69,91,"SEM ID")),e.xp6(4),e.Q6J("formGroup",n.frm)("label",e.lcZ(73,93,"Experience Years")),e.xp6(3),e.Q6J("ngIf",n.officeMemberId),e.xp6(4),e.Q6J("disabled",n.frm.invalid||!n.isAdmin||e.lcZ(80,95,n.isLoading)),e.xp6(6),e.Q6J("disabled",!n.isAdmin||e.lcZ(86,97,n.isLoading))}}function ae(i,o){1&i&&(e.TgZ(0,"div",43),e._UZ(1,"mat-spinner",44),e.qZA())}let Y=(()=>{class i{constructor(t,n,a,c,s,m,M,Qe,Ye){this.deviceService=t,this.accountService=n,this.route=a,this.dictionaryService=c,this.officeMemberService=s,this.languageService=m,this.confirm=M,this.router=Qe,this.sanitizer=Ye,this.language$=this.languageService.currentLanguage$,this.isHandset=this.deviceService.isHandset$,this.isAdmin=this.accountService.inRoles(["Administrator"]),this.officeId=this.accountService.getOfficeId(),this.genders=this.dictionaryService.genders,this.gendersLoading=this.dictionaryService.gendersLoading,this.specialties=this.dictionaryService.memberSpecialties,this.specialtiesLoading=this.dictionaryService.memberSpecialtiesLoading,this.positions=this.dictionaryService.memberPositions,this.positionsLoading=this.dictionaryService.memberPositionsLoading,this.isLoading=this.officeMemberService.isLoading,this.language=this.languageService.currentLanguage,this.uploadingType$=this.officeMemberService.uploadingType$,this.downloadingFile$=this.officeMemberService.downloadingFile$,this.defaultNationalityId=0,this.nationalities=this.dictionaryService.nationalities.pipe((0,Z.U)(N=>N.sort("ar"===this.languageService.currentLanguage?(u,h)=>u.NameArabic<h.NameArabic?-1:u.NameArabic>h.NameArabic?1:0:(u,h)=>u.NameEnglish<h.NameEnglish?-1:u.NameEnglish>h.NameEnglish?1:0)),(0,_.b)(N=>this.defaultNationalityId=N.find(u=>u.NameEnglish="Kuwait")?.Id)),this.nationalitiesLoading=this.dictionaryService.nationalitiesLoading}ngOnInit(){this.route.paramMap.pipe((0,Z.U)(t=>t.get("id")?(this.officeMemberId=+t.get("id"),this.officeMemberId):null),(0,x.w)(t=>t?this.officeMemberService.getMemberById(this.officeMemberId):(0,$.of)(null)),(0,_.b)(t=>this.officeMember=t),(0,x.w)(()=>this.route.parent?.parent?.parent?.paramMap),(0,Z.U)(t=>t.get("id")?(this.officeId=+t.get("id"),this.officeId):null),(0,_.b)(t=>{this.frm=this.officeMemberService.createOfficeMemberForm(this.officeId,this.officeMember),this.isAdmin||this.frm.disable()})).subscribe()}save(){this.frm.invalid||this.confirm.open({Type:"update"}).pipe((0,F.h)(t=>t),(0,w.z)(()=>this.officeMemberId?this.officeMemberService.editOfficeMember(this.officeMemberId,this.frm.getRawValue()):this.officeMemberService.addOfficeMember(this.frm.getRawValue()))).subscribe(t=>{t&&!this.officeMemberId?this.router.navigate(["edit",t.Id],{relativeTo:this.route.parent}):t&&this.officeMemberId&&this.router.navigate(["list"],{relativeTo:this.route.parent})})}uploadFile(t,n){if(!t.target?.files||0===t.target?.files.length)return;const a=t.target.files[0],c=new FormData;c.append("File",a),c.append("OwnerId",this.officeMemberId?this.officeMemberId.toString():""),c.append("TypeId",n.Id.toString()),this.officeMemberService.uploadFile(c).subscribe(s=>{s&&(n.Files.pop(),n.Files.push(s))})}getFile(t,n){return this.officeMemberService.getFile(t).subscribe(a=>{let c=a.type,s=[];s.push(a);let m=document.createElement("a");m.href=window.URL.createObjectURL(new Blob(s,{type:c})),n&&(m.setAttribute("download",n),document.body.appendChild(m),m.click())})}openFileInNewWindow(t,n){return this.officeMemberService.getFile(t).subscribe(a=>{if(n){const c=URL.createObjectURL(a);window.open(c)}})}reset(){}deleteFile(t,n,a,c){this.confirm.open({Type:"delete",ElementNameArabic:n,ElementNameEnglish:n}).pipe((0,F.h)(s=>s),(0,w.z)(()=>this.officeMemberService.deleteFile(t))).subscribe(s=>{s&&this.officeMember.Documents[a].Files.splice(c,1)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.U),e.Y36(S.B),e.Y36(d.gz),e.Y36(D.E),e.Y36(J.w),e.Y36(L.Z),e.Y36(q.z),e.Y36(d.F0),e.Y36(k.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-member-form"]],decls:5,vars:7,consts:[[1,"office-home-content",3,"ngClass"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","saving-data",4,"ngIf"],[3,"formGroup","ngSubmit"],[4,"ngIf","ngIfElse"],["update",""],["translate","",1,"mat-h3"],["translate",""],["rowHeight","75",3,"cols"],[1,"form-field-container"],["controlName","NameEnglish","type","text",3,"formGroup","label"],["controlName","NameArabic","type","text",3,"formGroup","label"],["controlName","PhoneNumber","type","number",3,"formGroup","label"],["controlName","Email","type","text",3,"formGroup","label"],["controlName","PhoneNumberTwo","type","number",3,"formGroup","label"],["controlName","NationalId","type","number",3,"formGroup","label"],["controlName","NationalityId","optionValue","Id",3,"formGroup","label","placeHolder","options","isLoading","optionDisplay"],["controlName","GenderId","optionValue","Id",3,"formGroup","label","placeHolder","options","isLoading","optionDisplay"],["controlName","SpecialityId","optionValue","Id",3,"formGroup","label","placeHolder","options","isLoading","optionDisplay"],["controlName","SemId","type","text",3,"formGroup","label"],["controlName","ExperienceYears","type","number",3,"formGroup","label"],[4,"ngIf"],["rowHeight","60","cols","2",1,"actions-container"],["mat-raised-button","","color","primary",3,"disabled"],["mat-raised-button","","type","button",3,"disabled","click"],["translate","",1,"mat-h1"],[1,"file-list"],[4,"ngFor","ngForOf"],["id","file-upload","type","file","name","fileUpload","accept",".png,.jpg,.jpeg,.pdf",3,"disabled","change"],["input",""],["mat-subheader",""],[1,"full-spacer"],["mat-button","","color","primary","type","button",3,"click",4,"ngIf","ngIfElse"],["uploading",""],["mat-button","","color","primary","type","button",3,"click"],["diameter","30",3,"value"],["mat-list-icon","","class","material-icons-outlined",4,"ngIf","ngIfElse"],["mat-line",""],[3,"click"],["mat-button","","color","warn","type","button",3,"disabled","click"],["downloading",""],["mat-list-icon","",1,"material-icons-outlined"],["mat-list-icon","","diameter","30",3,"value"],[1,"saving-data"],["diameter","30"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.YNc(2,oe,89,99,"form",1),e.qZA(),e.YNc(3,ae,2,0,"div",2),e.ALo(4,"async")),2&t&&(e.Q6J("ngClass",e.lcZ(1,3,n.isHandset)?"office-home-content-handset":""),e.xp6(2),e.Q6J("ngIf",n.frm),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,5,n.isLoading)))},dependencies:[f.mk,f.sg,f.O5,p.i$,p.Tg,Q.X2,p.Nh,p.gs,B.d,b.Hw,v.lW,g.Pi,I.Ou,R.a,P.H,A._Y,A.JL,A.sg,U.Il,U.DX,f.Ov,g.X$,j.g]}),i})();var l=r(671),H=r(2340),T=r(9549),G=r(4144);let re=(()=>{class i{constructor(){this.name="",this.id="",this.color="primary",this.language="en"}ngOnInit(){}get initials(){const t=this.name.split(" ");return t.length>1&&t[0]&&t[1]?t[0][0].toUpperCase()+("ar"===this.language?"-":"")+t[1][0].toUpperCase():this.name.split(" ")[0][0].toUpperCase()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-name-holder"]],inputs:{name:"name",id:"id",color:"color",language:"language"},decls:8,vars:4,consts:[[1,"name-holder"],[1,"name-circle",3,"ngClass"],[1,"name-text"],[1,"mat-h4"],[1,"mat-h5"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"h3",3),e._uU(5),e.qZA(),e.TgZ(6,"h5",4),e._uU(7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngClass",n.color),e.xp6(1),e.hij(" ",n.initials," "),e.xp6(3),e.Oqu(n.name),e.xp6(2),e.hij("# ",n.id,""))},dependencies:[f.mk]}),i})();function ce(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1," Name "),e.qZA())}function se(i,o){if(1&i&&(e.TgZ(0,"td",21),e._UZ(1,"app-name-holder",22),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("language",e.lcZ(2,3,n.language$))("name","ar"==e.lcZ(3,5,n.language$)?t.NameArabic:t.NameEnglish)("id",t.Id)}}function le(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1," SEM ID "),e.qZA())}function me(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.hij(" ",t.SemId," ")}}function fe(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1," Speciality "),e.qZA())}function de(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"async"),e.qZA()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.hij(" ","ar"==e.lcZ(2,1,n.language$)?t.SpecialityNameArabic:t.SpecialityNameEnglish," ")}}function pe(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1," Phone Number "),e.qZA())}function ue(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.hij(" ",t.PhoneNumber," ")}}function ge(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1," Gender "),e.qZA())}function he(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"async"),e.qZA()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.hij(" ","ar"==e.lcZ(2,1,n.language$)?t.GenderNameArabic:t.GenderNameEnglish," ")}}function Ze(i,o){1&i&&e._UZ(0,"th",23)}function _e(i,o){1&i&&(e.TgZ(0,"td",21)(1,"button",24)(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()())}function be(i,o){1&i&&e._UZ(0,"tr",25)}function ve(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",26),e.NdJ("click",function(){const c=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.rowClick(c.Id))}),e.qZA()}}function Ae(i,o){1&i&&(e.TgZ(0,"div",27),e._UZ(1,"mat-spinner",28),e.qZA())}let Te=(()=>{class i{constructor(t,n,a,c,s,m){this.deviceService=t,this.route=n,this.accountService=a,this.officeMemberService=c,this.router=s,this.languageService=m,this.isHandset=this.deviceService.isHandset$,this.isTest=H.N.test,this.members=[],this.officeId=this.accountService.getOfficeId(),this.dataSource=new l.by,this.columns=["Name","SemId","Speciality","PhoneNumber","Gender","Actions"],this.isLoading=this.officeMemberService.isLoading,this.language$=this.languageService.currentLanguage$}ngOnInit(){this.isHandset.subscribe(t=>{this.columns=t?["Name"]:["Name","SemId","Speciality","PhoneNumber","Gender"]}),this.route.parent?.parent?.parent?.paramMap.pipe((0,Z.U)(t=>t.get("id")?(this.officeId=+t.get("id"),this.officeId):this.officeId??0),(0,x.w)(t=>this.officeMemberService.getMembersByOfficeId(this.officeId)),(0,_.b)(t=>{this.members=t,this.dataSource.data=t})).subscribe()}rowClick(t){this.router.navigate(["edit",t],{relativeTo:this.route.parent})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.U),e.Y36(d.gz),e.Y36(S.B),e.Y36(J.w),e.Y36(d.F0),e.Y36(L.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-office-member-list"]],decls:40,vars:12,consts:[[1,"office-home-content",3,"ngClass"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate",""],[1,"search-container"],["matInput","",3,"placeholder","keyup"],["mat-icon-button","","color","primary","matSuffix",""],["mat-table","","width","100%",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","","translate","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","SemId"],["matColumnDef","Speciality"],["matColumnDef","PhoneNumber"],["matColumnDef","Gender"],["matColumnDef","Actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","clickable",3,"click",4,"matRowDef","matRowDefColumns"],["class","saving-data",4,"ngIf"],["mat-header-cell","","translate",""],["mat-cell",""],["color","accent",3,"language","name","id"],["mat-header-cell",""],["mat-icon-button","","type","button"],["mat-header-row",""],["mat-row","",1,"clickable",3,"click"],[1,"saving-data"],["diameter","30"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"h1",1),e._uU(3," Office Owners\n"),e.qZA(),e.TgZ(4,"h3",2),e._uU(5," List & update my office's owners\n"),e.qZA(),e.TgZ(6,"p",3),e._uU(7,"Click on any owner to change information"),e.qZA(),e.TgZ(8,"div",4)(9,"mat-form-field")(10,"mat-label",3),e._uU(11," Search for owners "),e.qZA(),e.TgZ(12,"input",5),e.NdJ("keyup",function(c){return n.applyFilter(c)}),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"button",6)(15,"mat-icon"),e._uU(16,"search"),e.qZA()()()(),e.TgZ(17,"table",7),e.ynx(18,8),e.YNc(19,ce,2,0,"th",9),e.YNc(20,se,4,7,"td",10),e.BQk(),e.ynx(21,11),e.YNc(22,le,2,0,"th",9),e.YNc(23,me,2,1,"td",10),e.BQk(),e.ynx(24,12),e.YNc(25,fe,2,0,"th",9),e.YNc(26,de,3,3,"td",10),e.BQk(),e.ynx(27,13),e.YNc(28,pe,2,0,"th",9),e.YNc(29,ue,2,1,"td",10),e.BQk(),e.ynx(30,14),e.YNc(31,ge,2,0,"th",9),e.YNc(32,he,3,3,"td",10),e.BQk(),e.ynx(33,15),e.YNc(34,Ze,1,0,"th",16),e.YNc(35,_e,4,0,"td",10),e.BQk(),e.YNc(36,be,1,0,"tr",17),e.YNc(37,ve,1,0,"tr",18),e.qZA()(),e.YNc(38,Ae,2,0,"div",19),e.ALo(39,"async")),2&t&&(e.Q6J("ngClass",e.lcZ(1,6,n.isHandset)?"office-home-content-handset":""),e.xp6(12),e.s9C("placeholder",e.lcZ(13,8,"Search by Name, Speciality or Id")),e.xp6(5),e.Q6J("dataSource",n.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",n.columns),e.xp6(1),e.Q6J("matRowDefColumns",n.columns),e.xp6(1),e.Q6J("ngIf",e.lcZ(39,10,n.isLoading)))},dependencies:[f.mk,f.O5,b.Hw,v.lW,T.KE,T.hX,T.R9,G.Nt,g.Pi,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,I.Ou,re,f.Ov,g.X$]}),i})();var ye=r(445),y=r(3267),E=r(3683);function Me(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(3);return e.KtG("over"===a.mode&&a.close())}),e.TgZ(1,"span",5),e._uU(2,"add"),e.qZA(),e.TgZ(3,"h3",6),e._uU(4,"Add new office owner"),e.qZA()()}}function Ne(i,o){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"chevron_left"),e.qZA())}function xe(i,o){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"chevron_right"),e.qZA())}const Se=[{path:"",component:(()=>{class i{constructor(t,n,a){this.deviceService=t,this.languageService=n,this.accountService=a,this.isHandset=this.deviceService.isHandset$,this.isTest=H.N.test,this.dir=this.languageService.currentDirection$,this.isAdmin=this.accountService.inRoles(["Administrator"])}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.U),e.Y36(L.Z),e.Y36(S.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-office-members-nav"]],decls:23,vars:12,consts:[[1,"office-side-nav2",3,"dir"],[3,"opened","mode"],["drawer",""],["translate",""],["mat-list-item","","routerLinkActive","office-home-active","routerLink","list",3,"click"],["mat-list-icon","",1,"material-symbols-outlined"],["mat-line","","mat-h3","","translate",""],["mat-line","","translate",""],["mat-list-item","","routerLink","new","routerLinkActive","office-home-active",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",1,"float-drawer-toggle",3,"click"],[4,"ngIf"],["mat-list-item","","routerLink","new","routerLinkActive","office-home-active",3,"click"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-sidenav-container",0),e.ALo(1,"async"),e.TgZ(2,"mat-sidenav",1,2),e.ALo(4,"async"),e.ALo(5,"async"),e.TgZ(6,"mat-toolbar")(7,"span",3),e._uU(8,"Office Owners"),e.qZA()(),e.TgZ(9,"mat-action-list")(10,"button",4),e.NdJ("click",function(){e.CHM(a);const s=e.MAs(3);return e.KtG("over"===s.mode&&s.close())}),e.TgZ(11,"span",5),e._uU(12,"recent_Actors"),e.qZA(),e.TgZ(13,"h3",6),e._uU(14,"List Of Owners"),e.qZA(),e.TgZ(15,"p",7),e._uU(16," List & update my office's owners "),e.qZA()(),e.YNc(17,Me,5,0,"button",8),e.qZA()(),e.TgZ(18,"mat-sidenav-content")(19,"button",9),e.NdJ("click",function(){e.CHM(a);const s=e.MAs(3);return e.KtG(s.toggle())}),e.YNc(20,Ne,2,0,"mat-icon",10),e.YNc(21,xe,2,0,"mat-icon",10),e.qZA(),e._UZ(22,"router-outlet"),e.qZA()()}if(2&t){const a=e.MAs(3);e.Q6J("dir","ltr"===e.lcZ(1,6,n.dir)?"ltr":"rtl"),e.xp6(2),e.Q6J("opened",!e.lcZ(4,8,n.isHandset)||"false")("mode",e.lcZ(5,10,n.isHandset)?"over":"side"),e.xp6(15),e.Q6J("ngIf",n.isAdmin),e.xp6(3),e.Q6J("ngIf",a.opened),e.xp6(1),e.Q6J("ngIf",!a.opened)}},dependencies:[f.O5,d.lC,d.rH,d.Od,ye.Lv,y.JX,y.TM,y.Rh,E.Ye,p.i$,p.Tg,Q.X2,p.Nh,b.Hw,v.lW,g.Pi,f.Ov]}),i})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:Te},{path:"new",component:Y,canActivate:[r(4210).a],data:{Roles:["Administrator"]}},{path:"edit/:id",component:Y}]}];let Ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(Se),d.Bz]}),i})();var Ue=r(4385),Oe=r(3546),Fe=r(4466),we=r(9596);let Je=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.ez,Ie,y.SJ,E.g0,p.ie,b.Ps,v.ot,T.lN,G.c,Ue.LD,g.aw,l.p0,I.Cq,Oe.QW,Fe.m,we.w,A.UX,U.N6]}),i})()}}]);