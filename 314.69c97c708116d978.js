"use strict";(self.webpackChunkkfeoch02=self.webpackChunkkfeoch02||[]).push([[314],{3983:(wt,B,s)=>{s.d(B,{G_:()=>j,Ip:()=>O,kf:()=>F,kv:()=>t});var d=s(4292),u=s(389);const j={handset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Certificate",Property:"RequestTypeNameEnglish",NameArabic:"\u0627\u0644\u0634\u0647\u0627\u062f\u0629",PropertyArabic:"RequestTypeNameArabic",IsSort:!0},{Name:"Entity",Property:"CertificateEntityNameEnglish",NameArabic:"\u0627\u0644\u062c\u0647\u0629",PropertyArabic:"CertificateEntityNameArabic",IsSort:!0},{Name:"Amount",Property:"Amount",NameArabic:"\u0627\u0644\u0645\u0628\u0644\u063a",IsSort:!0,Pipe:d.f}],nonHandset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Certificate",Property:"RequestTypeNameEnglish",NameArabic:"\u0627\u0644\u0634\u0647\u0627\u062f\u0629",PropertyArabic:"RequestTypeNameArabic",IsSort:!0},{Name:"Entity",Property:"CertificateEntityNameEnglish",NameArabic:"\u0627\u0644\u062c\u0647\u0629",PropertyArabic:"CertificateEntityNameArabic",IsSort:!0},{Name:"Amount",Property:"Amount",NameArabic:"\u0627\u0644\u0645\u0628\u0644\u063a",IsSort:!0,Pipe:d.f}]},O={handset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Requester",Property:"RequesterTypeEnglish",NameArabic:"\u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"RequesterTypeArabic",IsSort:!0},{Name:"Requester Name",Property:"LawyerNameEnglish",NameArabic:"\u0627\u0633\u0645 \u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"LawyerNameArabic",IsSort:!0},{Name:"Engineering Office",Property:"OfficeNameEnglish",NameArabic:"\u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u0647\u0646\u062f\u0633\u064a",PropertyArabic:"OfficeNameArabic",IsSort:!0},{Name:"Destination",Property:"DestinationEnglish",NameArabic:"\u0627\u0644\u062c\u0647\u0629",PropertyArabic:"DestinationArabic",IsSort:!0},{Name:"Amount",Property:"Amount",NameArabic:"\u0627\u0644\u0645\u0628\u0644\u063a",IsSort:!0,Pipe:d.f}],nonHandset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Requester",Property:"RequesterTypeEnglish",NameArabic:"\u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"RequesterTypeArabic",IsSort:!0},{Name:"Requester Name",Property:"LawyerNameEnglish",NameArabic:"\u0627\u0633\u0645 \u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"LawyerNameArabic",IsSort:!0},{Name:"Engineering Office",Property:"OfficeNameEnglish",NameArabic:"\u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u0647\u0646\u062f\u0633\u064a",PropertyArabic:"OfficeNameArabic",IsSort:!0},{Name:"Destination",Property:"DestinationEnglish",NameArabic:"\u0627\u0644\u062c\u0647\u0629",PropertyArabic:"DestinationArabic",IsSort:!0},{Name:"Amount",Property:"Amount",NameArabic:"\u0627\u0644\u0645\u0628\u0644\u063a",IsSort:!0,Pipe:d.f}]},t={handset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Requester",Property:"RequesterTypeEnglish",NameArabic:"\u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"RequesterTypeArabic",IsSort:!0},{Name:"Requester Name",Property:"LawyerNameEnglish",NameArabic:"\u0627\u0633\u0645 \u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"LawyerNameArabic",IsSort:!0},{Name:"Engineering Office",Property:"OfficeNameEnglish",NameArabic:"\u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u0647\u0646\u062f\u0633\u064a",PropertyArabic:"OfficeNameArabic",IsSort:!0},{Name:"Destination",Property:"DestinationEnglish",NameArabic:"\u0627\u0644\u062c\u0647\u0629",PropertyArabic:"DestinationArabic",IsSort:!0}],nonHandset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Requester",Property:"RequesterTypeEnglish",NameArabic:"\u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"RequesterTypeArabic",IsSort:!0},{Name:"Requester Name",Property:"LawyerNameEnglish",NameArabic:"\u0627\u0633\u0645 \u0645\u0642\u062f\u0645 \u0627\u0644\u0637\u0644\u0628",PropertyArabic:"LawyerNameArabic",IsSort:!0},{Name:"Engineering Office",Property:"OfficeNameEnglish",NameArabic:"\u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u0647\u0646\u062f\u0633\u064a",PropertyArabic:"OfficeNameArabic",IsSort:!0},{Name:"Destination",Property:"DestinationEnglish",NameArabic:"\u0627\u0644\u062c\u0647\u0629",PropertyArabic:"DestinationArabic",IsSort:!0}]},F={handset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Engineering Office",Property:"OfficeNameEnglish",NameArabic:"\u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u0647\u0646\u062f\u0633\u064a",PropertyArabic:"OfficeNameArabic",IsSort:!0},{Name:"Civil Number",Property:"CivilNumber",NameArabic:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u064a",IsSort:!0},{Name:"Transaction License No",Property:"TransactionLicenseNo",NameArabic:"\u0631\u0642\u0645 \u0637\u0644\u0628 \u0627\u0644\u0631\u062e\u0635\u0629",IsSort:!0},{Name:"Building Type",Property:"BuildingType",PropertyArabic:"BuildingTypeAR",NameArabic:"\u0646\u0648\u0639 \u0627\u0644\u0628\u0646\u0627\u0621",IsSort:!0},{Name:"Casting Stage",Property:"StageMapped",PropertyArabic:"StageMappedAR",NameArabic:"\u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u0635\u0628",IsSort:!0},{Name:"Seq",Property:"CertFullSeq",NameArabic:"\u0627\u0644\u0645\u0633\u0644\u0633\u0644",IsSort:!0}],nonHandset:[{Name:"Date",NameArabic:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",Property:"CreatedDate",IsSort:!0,Pipe:u.g},{Name:"Engineering Office",Property:"OfficeNameEnglish",NameArabic:"\u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u0647\u0646\u062f\u0633\u064a",PropertyArabic:"OfficeNameArabic",IsSort:!0},{Name:"Civil Number",Property:"CivilNumber",NameArabic:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u064a",IsSort:!0},{Name:"Transaction License No",Property:"TransactionLicenseNo",NameArabic:"\u0631\u0642\u0645 \u0637\u0644\u0628 \u0627\u0644\u0631\u062e\u0635\u0629",IsSort:!0},{Name:"Building Type",Property:"BuildingType",PropertyArabic:"BuildingTypeAR",NameArabic:"\u0646\u0648\u0639 \u0627\u0644\u0628\u0646\u0627\u0621",IsSort:!0},{Name:"Casting Stage",Property:"StageMapped",PropertyArabic:"StageMappedAR",NameArabic:"\u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u0635\u0628",IsSort:!0},{Name:"Seq",Property:"CertFullSeq",NameArabic:"\u0627\u0644\u0645\u0633\u0644\u0633\u0644",IsSort:!0}]}},9314:(wt,B,s)=>{s.r(B),s.d(B,{OfficeTransactionsModule:()=>ii});var d=s(6895),u=s(4006),w=s(4859),j=s(3546),O=s(5412),t=s(4650),F=s(5017),Z=s(1281),J=s(7579),dt=s(727);let Ot=0;const X=new t.OlP("CdkAccordion");let Dt=(()=>{class n{constructor(){this._stateChanges=new J.x,this._openCloseAllActions=new J.x,this.id="cdk-accordion-"+Ot++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=(0,Z.Ig)(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[t._Bn([{provide:X,useExisting:n}]),t.TTD]}),n})(),Mt=0,qt=(()=>{class n{constructor(e,i,a){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=a,this._openCloseAllSubscription=dt.w0.EMPTY,this.closed=new t.vpe,this.opened=new t.vpe,this.destroyed=new t.vpe,this.expandedChange=new t.vpe,this.id="cdk-accordion-child-"+Mt++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=a.listen((r,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==r&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=(0,Z.Ig)(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,Z.Ig)(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(X,12),t.Y36(t.sBO),t.Y36(F.A8))},n.\u0275dir=t.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[t._Bn([{provide:X,useValue:void 0}])]}),n})(),Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var V=s(4080),C=s(3238),W=s(2687),Ft=s(1884),pt=s(8675),h=s(9300),l=s(5698),tt=s(9521),Pt=s(515),Lt=s(6451),x=s(7340);const kt=["body"];function Et(n,o){}const Bt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Jt=["mat-expansion-panel-header","*","mat-action-row"];function Rt(n,o){if(1&n&&t._UZ(0,"span",2),2&n){const e=t.oxw();t.Q6J("@indicatorRotate",e._getExpandedState())}}const Qt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Ht=["mat-panel-title","mat-panel-description","*"],et=new t.OlP("MAT_ACCORDION"),ut="225ms cubic-bezier(0.4,0.0,0.2,1)",mt={indicatorRotate:(0,x.X$)("indicatorRotate",[(0,x.SB)("collapsed, void",(0,x.oB)({transform:"rotate(0deg)"})),(0,x.SB)("expanded",(0,x.oB)({transform:"rotate(180deg)"})),(0,x.eR)("expanded <=> collapsed, void => collapsed",(0,x.jt)(ut))]),bodyExpansion:(0,x.X$)("bodyExpansion",[(0,x.SB)("collapsed, void",(0,x.oB)({height:"0px",visibility:"hidden"})),(0,x.SB)("expanded",(0,x.oB)({height:"*",visibility:"visible"})),(0,x.eR)("expanded <=> collapsed, void => collapsed",(0,x.jt)(ut))])},ft=new t.OlP("MAT_EXPANSION_PANEL");let Yt=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc),t.Y36(ft,8))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Gt=0;const gt=new t.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ht=(()=>{class n extends qt{constructor(e,i,a,r,c,p,m){super(e,i,a),this._viewContainerRef=r,this._animationMode=p,this._hideToggle=!1,this.afterExpand=new t.vpe,this.afterCollapse=new t.vpe,this._inputChanges=new J.x,this._headerId="mat-expansion-panel-header-"+Gt++,this._bodyAnimationDone=new J.x,this.accordion=e,this._document=c,this._bodyAnimationDone.pipe((0,Ft.x)((f,g)=>f.fromState===g.fromState&&f.toState===g.toState)).subscribe(f=>{"void"!==f.fromState&&("expanded"===f.toState?this.afterExpand.emit():"collapsed"===f.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=(0,Z.Ig)(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,pt.O)(null),(0,h.h)(()=>this.expanded&&!this._portal),(0,l.q)(1)).subscribe(()=>{this._portal=new V.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et,12),t.Y36(t.sBO),t.Y36(F.A8),t.Y36(t.s_b),t.Y36(d.K0),t.Y36(t.QbO,8),t.Y36(gt,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,a){if(1&e&&t.Suo(a,Yt,5),2&e){let r;t.iGM(r=t.CRH())&&(i._lazyContent=r.first)}},viewQuery:function(e,i){if(1&e&&t.Gf(kt,5),2&e){let a;t.iGM(a=t.CRH())&&(i._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&t.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[t._Bn([{provide:et,useValue:void 0},{provide:ft,useExisting:n}]),t.qOj,t.TTD],ngContentSelectors:Jt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(t.F$t(Bt),t.Hsn(0),t.TgZ(1,"div",0,1),t.NdJ("@bodyExpansion.done",function(r){return i._bodyAnimationDone.next(r)}),t.TgZ(3,"div",2),t.Hsn(4,1),t.YNc(5,Et,0,0,"ng-template",3),t.qZA(),t.Hsn(6,2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),t.uIk("aria-labelledby",i._headerId),t.xp6(4),t.Q6J("cdkPortalOutlet",i._portal))},dependencies:[V.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[mt.bodyExpansion]},changeDetection:0}),n})();class $t{}const zt=(0,C.sb)($t);let _t=(()=>{class n extends zt{constructor(e,i,a,r,c,p,m){super(),this.panel=e,this._element=i,this._focusMonitor=a,this._changeDetectorRef=r,this._animationMode=p,this._parentChangeSubscription=dt.w0.EMPTY;const f=e.accordion?e.accordion._stateChanges.pipe((0,h.h)(g=>!(!g.hideToggle&&!g.togglePosition))):Pt.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Lt.T)(e.opened,e.closed,f,e._inputChanges.pipe((0,h.h)(g=>!!(g.hideToggle||g.disabled||g.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe((0,h.h)(()=>e._containsFocus())).subscribe(()=>a.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case tt.L_:case tt.K5:(0,tt.Vb)(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ht,1),t.Y36(t.SBq),t.Y36(W.tE),t.Y36(t.sBO),t.Y36(gt,8),t.Y36(t.QbO,8),t.$8M("tabindex"))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&t.NdJ("click",function(){return i._toggle()})("keydown",function(r){return i._keydown(r)}),2&e&&(t.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),t.Udp("height",i._getHeaderHeight()),t.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[t.qOj],ngContentSelectors:Ht,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(t.F$t(Qt),t.TgZ(0,"span",0),t.Hsn(1),t.Hsn(2,1),t.Hsn(3,2),t.qZA(),t.YNc(4,Rt,1,1,"span",1)),2&e&&(t.ekj("mat-content-hide-toggle",!i._showToggle()),t.xp6(4),t.Q6J("ngIf",i._showToggle()))},dependencies:[d.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[mt.indicatorRotate]},changeDetection:0}),n})(),Kt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),jt=(()=>{class n extends Dt{constructor(){super(...arguments),this._ownHeaders=new t.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=(0,Z.Ig)(e)}ngAfterContentInit(){this._headers.changes.pipe((0,pt.O)(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new W.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let o;return function(i){return(o||(o=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,a){if(1&e&&t.Suo(a,_t,5),2&e){let r;t.iGM(r=t.CRH())&&(i._headers=r)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[t._Bn([{provide:et,useExisting:n}]),t.qOj]}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,C.BQ,Ut,V.eL]}),n})();var R=s(9549),N=s(782),Q=s(7392),Vt=s(4144),A=s(6338),H=s(1572);const Wt=["input"],te=function(n){return{enterDuration:n}},ee=["*"],ne=new t.OlP("mat-radio-default-options",{providedIn:"root",factory:function ie(){return{color:"accent"}}});let bt=0;const ae={provide:u.JU,useExisting:(0,t.Gpc)(()=>At),multi:!0};class Tt{constructor(o,e){this.source=o,this.value=e}}const xt=new t.OlP("MatRadioGroup");let oe=(()=>{class n{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+bt++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new t.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,Z.Ig)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=(0,Z.Ig)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Tt(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275dir=t.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),At=(()=>{class n extends oe{}return n.\u0275fac=function(){let o;return function(i){return(o||(o=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,a){if(1&e&&t.Suo(a,vt,5),2&e){let r;t.iGM(r=t.CRH())&&(i._radios=r)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[t._Bn([ae,{provide:xt,useExisting:n}]),t.qOj]}),n})();class re{constructor(o){this._elementRef=o}}const se=(0,C.Kr)((0,C.sb)(re));let ce=(()=>{class n extends se{constructor(e,i,a,r,c,p,m,f){super(i),this._changeDetector=a,this._focusMonitor=r,this._radioDispatcher=c,this._providerOverride=m,this._uniqueId="mat-radio-"+ ++bt,this.id=this._uniqueId,this.change=new t.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===p,f&&(this.tabIndex=(0,Z.su)(f,0)),this._removeUniqueSelectionListener=c.listen((g,K)=>{g!==this.id&&K===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=(0,Z.Ig)(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled((0,Z.Ig)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=(0,Z.Ig)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Tt(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const a=this._inputElement?.nativeElement;a&&(a.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){t.$Z()},n.\u0275dir=t.lG2({type:n,viewQuery:function(e,i){if(1&e&&t.Gf(Wt,5),2&e){let a;t.iGM(a=t.CRH())&&(i._inputElement=a.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[t.qOj]}),n})(),vt=(()=>{class n extends ce{constructor(e,i,a,r,c,p,m,f){super(e,i,a,r,c,p,m,f)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(xt,8),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(W.tE),t.Y36(F.A8),t.Y36(t.QbO,8),t.Y36(ne,8),t.$8M("tabindex"))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&t.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(t.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),t.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[t.qOj],ngContentSelectors:ee,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(t.F$t(),t.TgZ(0,"label",0,1)(2,"span",2),t._UZ(3,"span",3)(4,"span",4),t.TgZ(5,"input",5,6),t.NdJ("change",function(r){return i._onInputInteraction(r)})("click",function(r){return i._onInputClick(r)}),t.qZA(),t.TgZ(7,"span",7),t._UZ(8,"span",8),t.qZA()(),t.TgZ(9,"span",9)(10,"span",10),t._uU(11,"\xa0"),t.qZA(),t.Hsn(12),t.qZA()()),2&e){const a=t.MAs(1);t.uIk("for",i.inputId),t.xp6(5),t.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),t.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),t.xp6(2),t.Q6J("matRippleTrigger",a)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",t.VKq(17,te,i._noopAnimations?0:150)),t.xp6(2),t.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[C.wG],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.si,C.BQ,C.BQ]}),n})();var Y=s(3267),de=s(671),Ct=s(3683),v=s(9383),P=s(389),pe=s(5173),ue=s(9596),me=s(4466),_=s(9116),y=s(3900),M=s(4004),q=s(9646),b=s(8505),nt=s(262),T=s(6129),S=s(9708),I=s(5035),fe=s(614);function ge(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"mat-radio-group",7),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedMemberId=a)}),t._UZ(3,"mat-radio-button",8),t.qZA(),t.TgZ(4,"span",9),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngModel",i.selectedMemberId),t.xp6(1),t.Q6J("value",e.Id),t.xp6(2),t.Oqu(e.NameArabic),t.xp6(2),t.Oqu(e.NationalId)}}let Zt=(()=>{class n{constructor(e,i,a,r){this.languageService=e,this.officeMemberService=i,this.dialogRef=a,this.officeId=r,this.language$=this.languageService.currentLanguage$,this.members=[],this.displayedColumns=["select","name","civilNumber"]}ngOnInit(){(0,q.of)(this.officeId).pipe((0,l.q)(1),(0,y.w)(e=>this.officeMemberService.getMembersByOfficeId(e)),(0,b.b)(e=>{this.members=e})).subscribe()}authenticateMember(){const e=this.members.find(i=>i.Id===this.selectedMemberId);this.dialogRef.close({result:"authRequested",nationalId:e?.NationalId})}cancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.Z),t.Y36(fe.w),t.Y36(O.so),t.Y36(O.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cb-transactions-members-authentication"]],decls:17,vars:2,consts:[[1,"container"],["translate","",2,"padding-right","29px"],["translate",""],[4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"button-container"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","",3,"click"],[1,"radio-group",3,"ngModel","ngModelChange"],[3,"value"],[1,"member-name"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th",1),t._uU(5,"Owner Name"),t.qZA(),t.TgZ(6,"th",2),t._uU(7,"Civil Number"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,ge,8,4,"tr",3),t.qZA()(),t.TgZ(10,"div",4)(11,"button",5),t.NdJ("click",function(){return i.authenticateMember()}),t.TgZ(12,"span",2),t._uU(13,"Authenticate"),t.qZA()(),t.TgZ(14,"button",6),t.NdJ("click",function(){return i.cancel()}),t.TgZ(15,"span",2),t._uU(16,"Cancel"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",i.members),t.xp6(2),t.Q6J("disabled",!i.selectedMemberId))},dependencies:[d.sg,v.Pi,u.JJ,w.lW,O.H8,At,vt,u.On],styles:["table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{text-align:right}.container[_ngcontent-%COMP%]{width:90%;margin:0 auto}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),n})();var D=s(9777),L=s(3184),U=s(7376),k=s(4476),he=s(4440),it=s(4850),G=s(3218);function _e(n,o){1&n&&(t.TgZ(0,"span",21),t._uU(1,"\u2714\ufe0f"),t.qZA())}function be(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openOwnersModalAuth())}),t.ALo(1,"async"),t.TgZ(2,"span",7),t._uU(3,"Authenticate Hawyti For Office Owners"),t.qZA(),t.YNc(4,_e,2,0,"span",20),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.frm.invalid||1!==e.currentStep||!!e.countdown||t.lcZ(1,2,e.isLoading)),t.xp6(4),t.Q6J("ngIf",e.currentStep>1)}}function Te(n,o){1&n&&(t.TgZ(0,"h4")(1,"span",7),t._uU(2,"Please Authenticate using Hawyti App"),t.qZA()())}function xe(n,o){if(1&n&&(t.TgZ(0,"div",22),t._UZ(1,"mat-progress-spinner",23),t.TgZ(2,"div",24),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("value",e.countdown/300*100),t.xp6(2),t.Oqu(e.formattedCountdown)}}function Ae(n,o){1&n&&(t.TgZ(0,"span",21),t._uU(1,"\u2714\ufe0f"),t.qZA())}function ve(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.updateTransactionAgentAuth())}),t.ALo(1,"async"),t.TgZ(2,"span",7),t._uU(3,"Authenticate Hawyti For Agent"),t.qZA(),t.YNc(4,Ae,2,0,"span",20),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.frm.invalid||2!==e.currentStep||!!e.countdown||t.lcZ(1,2,e.isLoading)),t.xp6(4),t.Q6J("ngIf",e.currentStep>2)}}function Ce(n,o){1&n&&(t.TgZ(0,"h4")(1,"span",7),t._uU(2,"Please Authenticate using Hawyti App"),t.qZA()())}function Ze(n,o){if(1&n&&(t.TgZ(0,"div",22),t._UZ(1,"mat-progress-spinner",23),t.TgZ(2,"div",24),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("value",e.countdown/300*100),t.xp6(2),t.Oqu(e.formattedCountdown)}}function ye(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.insertTransaction())}),t.ALo(1,"async"),t.TgZ(2,"span",7),t._uU(3,"Initiate Transaction"),t.qZA()()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.frm.invalid||3!==e.currentStep||t.lcZ(1,1,e.isLoading))}}function Se(n,o){if(1&n&&(t.TgZ(0,"div")(1,"mat-grid-list",16)(2,"mat-grid-tile")(3,"div",11)(4,"h2")(5,"span",7),t._uU(6,"Complete transaction requirements for agent with civil number"),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.YNc(9,be,5,4,"button",17),t.YNc(10,Te,3,0,"h4",4),t.YNc(11,xe,4,2,"div",18),t.YNc(12,ve,5,4,"button",17),t.YNc(13,Ce,3,0,"h4",4),t.YNc(14,Ze,4,2,"div",18),t.YNc(15,ye,4,3,"button",17),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(8),t.hij(" ",e.officeCBAuth.CitizenCivilNumber,""),t.xp6(1),t.Q6J("ngIf",e.currentStep>=0),t.xp6(1),t.Q6J("ngIf",e.countdown>0&&1===e.currentStep),t.xp6(1),t.Q6J("ngIf",e.countdown>0&&1===e.currentStep),t.xp6(1),t.Q6J("ngIf",e.currentStep>=0),t.xp6(1),t.Q6J("ngIf",e.countdown>0&&2===e.currentStep),t.xp6(1),t.Q6J("ngIf",e.countdown>0&&2===e.currentStep),t.xp6(1),t.Q6J("ngIf",e.currentStep>=0)}}function Ne(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"form",5),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.inquiry())}),t.TgZ(1,"h1",6),t._uU(2," New Casting Supervision Transaction "),t.qZA(),t.TgZ(3,"h3",7),t._uU(4," Add Your Transaction Details "),t.qZA(),t.TgZ(5,"div",8)(6,"span",9),t._uU(7,"* "),t.qZA(),t.TgZ(8,"span",7),t._uU(9," If the transaction data does not appear "),t.qZA()(),t.TgZ(10,"div",8)(11,"span",9),t._uU(12,"* "),t.qZA(),t.TgZ(13,"span",7),t._uU(14," For any inquiries, please contact us through the communication channels "),t.qZA()(),t.TgZ(15,"mat-grid-list",10),t.ALo(16,"async"),t.TgZ(17,"mat-grid-tile")(18,"div",11),t._UZ(19,"app-input",12),t.ALo(20,"translate"),t.qZA()()(),t.TgZ(21,"span",9),t._uU(22,"* "),t.qZA(),t.TgZ(23,"span",13),t._uU(24,"Authentication with the Office and Agent will be done only once. In the subsequent casting stages, you can check the ongoing transactions list to proceed with the remaining casting stages."),t.qZA(),t.TgZ(25,"mat-grid-list",14)(26,"mat-grid-tile")(27,"div",11)(28,"button",15),t.ALo(29,"async"),t.TgZ(30,"span",7),t._uU(31,"Inquiry"),t.qZA()()()()(),t.YNc(32,Se,16,8,"div",4),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.frm),t.xp6(15),t.Q6J("cols",t.lcZ(16,6,e.isHandset)?1:2),t.xp6(4),t.Q6J("formGroup",e.frm)("label",t.lcZ(20,8,"Civil Number")),t.xp6(9),t.Q6J("disabled",e.frm.invalid||t.lcZ(29,10,e.isLoading)),t.xp6(4),t.Q6J("ngIf",e.currentStep)}}function Ie(n,o){1&n&&(t.TgZ(0,"span",25),t._uU(1," This transaction already exists "),t.qZA())}function we(n,o){1&n&&(t.TgZ(0,"span",25),t._uU(1," This transaction is currently being terminated by another office "),t.qZA())}function Oe(n,o){1&n&&(t.TgZ(0,"div",26)(1,"span",7),t._uU(2,"This transaction has been terminated by another office"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"span",7),t._uU(5,"You can transfer the transaction to your office using the option below"),t.qZA()())}function De(n,o){1&n&&(t.TgZ(0,"h2",32),t._uU(1," \u25c6 "),t.TgZ(2,"span",7),t._uU(3,"Please contact Kuwaiti Federation of Engineering Offices and Consultant Houses"),t.qZA()())}function Me(n,o){1&n&&t._UZ(0,"mat-divider",33)}function qe(n,o){if(1&n&&(t.TgZ(0,"mat-list-item")(1,"h4",34)(2,"span",7),t._uU(3,"Suspension From"),t.qZA()(),t.TgZ(4,"p",34),t._uU(5),t.ALo(6,"localizedDate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(t.lcZ(6,1,e.FromDate))}}function Ue(n,o){if(1&n&&(t.TgZ(0,"mat-list-item")(1,"h4",34)(2,"span",7),t._uU(3,"Suspension To"),t.qZA()(),t.TgZ(4,"p",34),t._uU(5),t.ALo(6,"localizedDate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(5),t.Oqu(t.lcZ(6,1,e.ToDate))}}function Fe(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"h2",32),t._uU(2),t.ALo(3,"async"),t.qZA(),t.YNc(4,qe,7,3,"mat-list-item",4),t.YNc(5,Ue,7,3,"mat-list-item",4),t._UZ(6,"mat-divider",33),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.hij(" \u25c6 ","en"==t.lcZ(3,3,i.language$)?e.NameEnglish:e.NameArabic," "),t.xp6(2),t.Q6J("ngIf",e.FromDate),t.xp6(1),t.Q6J("ngIf",e.ToDate)}}function Pe(n,o){if(1&n&&(t.TgZ(0,"mat-list")(1,"h1",27),t._uU(2," Office is suspended from adding new transaction "),t.qZA(),t.TgZ(3,"h2",28)(4,"span",7),t._uU(5,"Suspension Reasons"),t.qZA(),t._uU(6," : "),t.qZA(),t.YNc(7,De,4,0,"h2",29),t.YNc(8,Me,1,0,"mat-divider",30),t.YNc(9,Fe,7,5,"ng-container",31),t.qZA()),2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",!1===(null==e.officeSuspensionResult?null:e.officeSuspensionResult.IsActive)),t.xp6(1),t.Q6J("ngIf",!1===(null==e.officeSuspensionResult?null:e.officeSuspensionResult.IsActive)),t.xp6(1),t.Q6J("ngForOf",null==e.officeSuspensionResult?null:e.officeSuspensionResult.SuspensionStatuses)}}let Le=(()=>{class n{constructor(e,i,a,r,c,p,m,f,g){this.deviceService=e,this.accountService=i,this.route=a,this.transactionService=r,this.languageService=c,this.confirm=p,this.router=m,this.officeSuspensionReasonsService=f,this.dialog=g,this.isHandset=this.deviceService.isHandset$,this.officeId=this.accountService.getOfficeId(),this.language$=this.languageService.currentLanguage$,this.currentStep=S.BG.Initiated,this.alreadyExist=!1,this.terminated=!1,this.underTermination=!1,this.OfficeIsDeactivatedFromKFEOCH=!1,this.currentDate=new Date,this.isLoading=this.transactionService.isLoading$,this.countdown=0}ngOnInit(){this.language$.pipe((0,l.q)(1),(0,y.w)(()=>{const e=this.route.parent?.parent?.parent?.paramMap;return e?e.pipe((0,l.q)(1),(0,M.U)(i=>i.get("id")?+i.get("id"):this.officeId??0)):(0,q.of)(this.officeId??0)}),(0,y.w)(e=>(this.officeId=e,this.officeSuspensionReasonsService.getOfficeSuspensionStatus(e))),(0,b.b)(e=>{this.officeIsActive(e)?this.frm=this.transactionService.createCastingSupervisionTransactionForm({OfficeId:this.officeId}):this.officeSuspensionResult=e}),(0,nt.K)(e=>(console.error("Error occurred:",e),(0,q.of)(null)))).subscribe()}ngOnDestroy(){this.interval&&clearInterval(this.interval)}officeIsActive(e){return!e||(e.IsActive?!e.SuspensionStatuses.length:(this.OfficeIsDeactivatedFromKFEOCH=!0,!1))}inquiry(){this.frm.invalid||this.confirm.open({Type:"cb-transaction-submit-commitment"}).pipe((0,l.q)(1),(0,h.h)(e=>!!e),(0,T.z)(()=>(this.alreadyExist=!1,this.underTermination=!1,this.terminated=!1,this.transactionService.fetchTransactionInfoFromCB(this.frm.getRawValue()))),(0,b.b)(e=>{e&&(this.currentStep=e.CBTransactionAuth.CBTransactionStep||0,e.CBTransactionAuth.StepAuthExpiryDate&&e.timeDiff>0?(this.countdown=Math.floor(e.timeDiff),this.startCountdown()):this.countdown=0,this.officeCBAuth=e.CBTransactionAuth)})).subscribe()}get formattedCountdown(){const e=Math.floor(this.countdown/60),i=this.countdown%60;return`${this.padZero(e)}:${this.padZero(i)}`}padZero(e){return e<10?"0"+e:e.toString()}startCountdown(){this.interval&&clearInterval(this.interval),0===this.countdown&&(this.countdown=300),this.interval=setInterval(()=>{this.countdown>0?(this.countdown--,this.countdown%20==0&&!this.officeCBAuth?.OfficeCBTransactionId&&this.transactionService.checkTransactionAuthStatus(this.officeCBAuth.Id).pipe((0,l.q)(1),(0,b.b)(e=>{this.officeCBAuth=e.CBTransactionAuth,this.currentStep=e.CBTransactionAuth.CBTransactionStep||0,(!e.CBTransactionAuth.StepAuthExpiryDate||!e.timeDiff||e.timeDiff<=0)&&(this.countdown=0,clearInterval(this.interval))})).subscribe()):clearInterval(this.interval)},1e3)}openOwnersModalAuth(){this.frm.invalid||this.dialog.open(Zt,{width:"500px",data:this.officeId}).afterClosed().subscribe(i=>{"authRequested"===i?.result&&this.transactionService.requestTransactionStepAuth({...this.officeCBAuth,EngCivilNumber:i.nationalId}).pipe((0,l.q)(1),(0,b.b)(a=>{this.officeCBAuth=a.CBTransactionAuth,a.CBTransactionAuth.StepAuthExpiryDate&&a.timeDiff>0&&(this.countdown=Math.floor(a.timeDiff),this.startCountdown())})).subscribe()})}getAgentDialogInfo(){return{Type:"cb-transaction-authenticate-hawiti",Header:"Authenticate Hawyti For Agent",CivilNumber:this.officeCBAuth.CitizenCivilNumber}}updateTransactionAgentAuth(){this.frm.invalid||this.confirm.open({Type:"initiate-transaction"}).pipe((0,l.q)(1),(0,h.h)(e=>!!e),(0,T.z)(()=>this.transactionService.requestTransactionStepAuth(this.officeCBAuth)),(0,b.b)(e=>{this.officeCBAuth=e.CBTransactionAuth,e.CBTransactionAuth.StepAuthExpiryDate&&e.timeDiff>0&&(this.countdown=Math.floor(e.timeDiff),this.startCountdown())})).subscribe()}insertTransaction(){this.frm.invalid||this.confirm.open({Type:"initiate-transaction"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.addCBTransaction(this.officeCBAuth)),(0,b.b)(e=>{if(console.log("XEXEXEXE ",e),e.OfficeCBTransactionId){let a=this.router.url.split("/");a[a.length-1]=`ongoing-list/${e.OfficeCBTransactionId}`;let r=a.join("/");this.router.navigateByUrl(r)}})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(L.B),t.Y36(_.gz),t.Y36(U.V),t.Y36(I.Z),t.Y36(k.z),t.Y36(_.F0),t.Y36(he.U),t.Y36(O.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-office-transactions-add"]],decls:7,vars:8,consts:[[1,"office-home-content",3,"ngClass"],[3,"formGroup","ngSubmit",4,"ngIf"],["style","font-size: 16px;color:red;","translate","",4,"ngIf"],["style","font-size: 16px;color:red;",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["translate","",1,"mat-h1"],["translate",""],[2,"font-size","14px","color","orangered","font-weight","bold","padding-left","20px","text-indent","-13px","margin-bottom","10px"],[2,"font-size","17px","color","orangered","font-weight","bold"],["rowHeight","75",3,"cols"],[1,"form-field-container"],["controlName","CitizenCivilNumber","type","number",3,"formGroup","label"],["translate","",2,"font-size","14px","color","orangered","font-weight","bold"],["rowHeight","60","cols","1",1,"actions-container"],["mat-raised-button","","color","primary",3,"disabled"],["rowHeight","370","cols","1"],["type","button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","timer-container",4,"ngIf"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["style","margin-right: 1em;",4,"ngIf"],[2,"margin-right","1em"],[1,"timer-container"],["mode","determinate","diameter","130",3,"value"],[1,"timer-text"],["translate","",2,"font-size","16px","color","red"],[2,"font-size","16px","color","red"],["mat-header","","translate",""],["mat-header",""],["mat-header","","style","padding-right: 13px;",4,"ngIf"],["style","margin-bottom: 20px",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-header","",2,"padding-right","13px"],[2,"margin-bottom","20px"],["mat-line",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.YNc(2,Ne,33,12,"form",1),t.YNc(3,Ie,2,0,"span",2),t.YNc(4,we,2,0,"span",2),t.YNc(5,Oe,6,0,"div",3),t.YNc(6,Pe,10,3,"mat-list",4),t.qZA()),2&e&&(t.Q6J("ngClass",t.lcZ(1,6,i.isHandset)?"office-home-content-handset":""),t.xp6(2),t.Q6J("ngIf",i.frm),t.xp6(1),t.Q6J("ngIf",i.alreadyExist&&!i.underTermination&&!i.terminated),t.xp6(1),t.Q6J("ngIf",i.underTermination),t.xp6(1),t.Q6J("ngIf",i.terminated),t.xp6(1),t.Q6J("ngIf",!1===(null==i.officeSuspensionResult?null:i.officeSuspensionResult.IsActive)||(null==i.officeSuspensionResult||null==i.officeSuspensionResult.SuspensionStatuses?null:i.officeSuspensionResult.SuspensionStatuses.length)>0))},dependencies:[d.mk,d.sg,d.O5,v.Pi,A.i$,A.Tg,C.X2,it.d,N.Il,N.DX,u._Y,u.JL,u.sg,G.a,w.lW,H.Ou,d.Ov,v.X$,P.g],styles:['@charset "UTF-8";  .mat-form-field.mat-form-field-should-float label{font-size:16px}.mat-form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px}.logo3[_ngcontent-%COMP%]{width:58%}.Log1[_ngcontent-%COMP%]{height:80%;width:auto;max-width:50%;display:flex;align-items:center}.container[_ngcontent-%COMP%]{width:90%;height:90%}#overlay[_ngcontent-%COMP%]{position:absolute;display:block;width:100%;height:100%;bottom:0;background-color:#000000e6;z-index:2}.flag[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}  .non-editable-input input.mat-input-element{background-color:#eeebeb;color:#000}  .mat-list-item:before{content:"\\2022  ";color:#000}.timer-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;margin-bottom:25px;margin-top:-35px}.timer-text[_ngcontent-%COMP%]{position:absolute;font-size:1.5em;font-weight:700}']}),n})();var $=s(1135),at=s(9746),ot=s(1607);function ke(n,o){1&n&&(t.TgZ(0,"div")(1,"span",7),t._uU(2,"* "),t.qZA(),t.TgZ(3,"span",8),t._uU(4,"Archived transaction explanation1"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span",7),t._uU(7,"* "),t.qZA(),t.TgZ(8,"span",8),t._uU(9,"Archived transaction explanation2"),t.qZA()())}function Ee(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.ALo(1,"async"),t.TgZ(2,"h1",2),t._uU(3," Credit Bank Transactions "),t.qZA(),t.TgZ(4,"h3",3),t._uU(5),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"p",4),t._uU(8," Click on a transaction to show information "),t.qZA(),t.YNc(9,ke,10,0,"div",5),t.TgZ(10,"app-dynamic-data-table",6),t.NdJ("rowClicked",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.goToRequest(a))})("btn2Click",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.terminateTransaction(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.lcZ(1,11,e.isHandset)?"office-home-content-handset":""),t.xp6(5),t.hij(" ",t.lcZ(6,13,e.subHeader$)," "),t.xp6(4),t.Q6J("ngIf","archived-list"===e.lastSegment),t.xp6(1),t.Q6J("language$",e.language$)("data",e.transactions)("isLoading",e.isLoading)("havePaging",!0)("columnsDef",e.columns)("clickable",!0)("btn2",e.btn2)("btn2Tooltip","Terminate")}}let rt=(()=>{class n{constructor(e,i,a,r,c,p,m){this.deviceService=e,this.languageService=i,this.accountService=a,this.transactionService=r,this.route=c,this.router=p,this.confirm=m,this.officeId=this.accountService.getOfficeId(),this.isAdmin=this.accountService.inRoles(["Administrator","OfficeManager"]),this.subHeader$=new $.X(""),this.isHandset=this.deviceService.isHandset$,this.isLoading=this.transactionService.isLoading$,this.columns=[],this.filter=new at.H1,this.language$=this.languageService.currentLanguage$,this.lastSegment="",this.btn1="",this.btn1Tooltip="",this.btn2="",this.lastSegment$=this.route.url.pipe((0,l.q)(1),(0,b.b)(f=>{const g=f.slice(-1)[0].toString();"ongoing-list"===g?(this.btn1="cloud_upload",this.btn1Tooltip="Archive Transaction",this.btn2=this.isAdmin?"close":"",this.subHeader$.next("List & view ongoing transactions")):"completed-list"===g?(this.btn1="cloud_upload",this.btn1Tooltip="Archive Transaction",this.subHeader$.next("List & view completed transactions")):"archived-list"===g&&(this.btn1="cloud_download",this.btn1Tooltip="Unarchive Transaction",this.subHeader$.next("List & view archived transactions")),this.lastSegment=f.slice(-1)[0].toString()}))}ngOnInit(){this.loadTransactions()}loadTransactions(){this.transactions=this.route.parent.parent.parent.paramMap.pipe((0,l.q)(1),(0,M.U)(e=>e.get("id")?(this.officeId=+e.get("id"),this.officeId):this.officeId??0),(0,y.w)(e=>this.transactionService.getAllOfficeTransactions(e).pipe((0,l.q)(1),(0,M.U)(i=>"ongoing-list"===this.lastSegment?i.filter(a=>a.CurrentStep&&a.CurrentStep>0&&!a.Completed&&!a.Archived):"completed-list"===this.lastSegment?i.filter(a=>a.Completed):"archived-list"===this.lastSegment?i.filter(a=>a.Archived&&!a.Completed):[]),(0,b.b)(()=>{this.isHandset.subscribe(i=>{this.columns=i?this.officeId?S.ju.handset.filter(a=>!a.Name?.includes("Office Name")):S.ju.handset:this.officeId?S.ju.nonHandset.filter(a=>!a.Name?.includes("Office Name")):S.ju.nonHandset})}))))}goToRequest(e){this.router.navigate([e.Id],{relativeTo:this.route})}terminateTransaction(e){this.router.navigate([e.Id,"termination"],{relativeTo:this.route})}handleArchiveAction(e){"archived-list"===this.lastSegment?this.unarchiveTransaction(e):this.archiveTransaction(e)}archiveTransaction(e){this.confirm.open({Type:"archive transaction"}).pipe((0,l.q)(1),(0,h.h)(i=>i),(0,T.z)(()=>this.transactionService.archiveCBTransaction(this.officeId,e.Id))).subscribe(i=>{i&&this.loadTransactions()})}unarchiveTransaction(e){this.confirm.open({Type:"unarchive transaction"}).pipe((0,l.q)(1),(0,h.h)(i=>i),(0,T.z)(()=>this.transactionService.unarchiveCBTransaction(this.officeId,e.Id))).subscribe(i=>{i&&this.loadTransactions()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(I.Z),t.Y36(L.B),t.Y36(U.V),t.Y36(_.gz),t.Y36(_.F0),t.Y36(k.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-office-transactions-list"]],decls:2,vars:3,consts:[["class","office-home-content",3,"ngClass",4,"ngIf"],[1,"office-home-content",3,"ngClass"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate","",1,"no-margin"],[4,"ngIf"],[3,"language$","data","isLoading","havePaging","columnsDef","clickable","btn2","btn2Tooltip","rowClicked","btn2Click"],[2,"font-size","17px","color","orangered","font-weight","bold"],["translate","",2,"font-size","14px","color","orangered","font-weight","bold"]],template:function(e,i){1&e&&(t.YNc(0,Ee,11,15,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.lastSegment$))},dependencies:[d.mk,d.O5,v.Pi,ot.j,d.Ov]}),n})();var Be=s(445);function Je(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"chevron_left"),t.qZA())}function Re(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"chevron_right"),t.qZA())}let Qe=(()=>{class n{constructor(e,i){this.deviceService=e,this.languageService=i,this.isHandset=this.deviceService.isHandset$,this.dir=this.languageService.currentDirection$}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(I.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-office-transactions-nav"]],decls:43,vars:11,consts:[[1,"office-side-nav2",3,"dir"],[3,"opened","mode"],["drawer",""],["translate",""],["mat-list-item","","routerLinkActive","office-home-active","routerLink","new",3,"click"],["mat-list-icon","",1,"material-symbols-outlined"],["mat-line","","mat-h3","","translate",""],["mat-line","","translate",""],["mat-list-item","","routerLinkActive","office-home-active","routerLink","ongoing-list",3,"click"],["mat-list-item","","routerLinkActive","office-home-active","routerLink","completed-list",3,"click"],["mat-list-item","","routerLinkActive","office-home-active","routerLink","archived-list",3,"click"],["mat-icon-button","","color","primary",1,"float-drawer-toggle",3,"click"],[4,"ngIf"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"mat-sidenav-container",0),t.ALo(1,"async"),t.TgZ(2,"mat-sidenav",1,2),t.ALo(4,"async"),t.ALo(5,"async"),t.TgZ(6,"mat-toolbar")(7,"span",3),t._uU(8,"Credit Bank Transactions"),t.qZA()(),t.TgZ(9,"mat-action-list")(10,"button",4),t.NdJ("click",function(){t.CHM(a);const c=t.MAs(3);return t.KtG("over"===c.mode&&c.close())}),t.TgZ(11,"span",5),t._uU(12,"add"),t.qZA(),t.TgZ(13,"h3",6),t._uU(14,"Casting Supervision Transaction"),t.qZA(),t.TgZ(15,"p",7),t._uU(16," Request new casting supervision transaction "),t.qZA()(),t.TgZ(17,"button",8),t.NdJ("click",function(){t.CHM(a);const c=t.MAs(3);return t.KtG("over"===c.mode&&c.close())}),t.TgZ(18,"span",5),t._uU(19,"card_membership"),t.qZA(),t.TgZ(20,"h3",6),t._uU(21,"List Of Ongoing Transactions"),t.qZA(),t.TgZ(22,"p",7),t._uU(23," List & view ongoing transactions "),t.qZA()(),t.TgZ(24,"button",9),t.NdJ("click",function(){t.CHM(a);const c=t.MAs(3);return t.KtG("over"===c.mode&&c.close())}),t.TgZ(25,"span",5),t._uU(26,"card_membership"),t.qZA(),t.TgZ(27,"h3",6),t._uU(28,"List Of Completed Transactions"),t.qZA(),t.TgZ(29,"p",7),t._uU(30," List & view completed transactions "),t.qZA()(),t.TgZ(31,"button",10),t.NdJ("click",function(){t.CHM(a);const c=t.MAs(3);return t.KtG("over"===c.mode&&c.close())}),t.TgZ(32,"span",5),t._uU(33,"cloud_upload"),t.qZA(),t.TgZ(34,"h3",6),t._uU(35,"List Of Archived Transactions"),t.qZA(),t.TgZ(36,"p",7),t._uU(37," List & view archived transactions "),t.qZA()()()(),t.TgZ(38,"mat-sidenav-content")(39,"button",11),t.NdJ("click",function(){t.CHM(a);const c=t.MAs(3);return t.KtG(c.toggle())}),t.YNc(40,Je,2,0,"mat-icon",12),t.YNc(41,Re,2,0,"mat-icon",12),t.qZA(),t._UZ(42,"router-outlet"),t.qZA()()}if(2&e){const a=t.MAs(3);t.Q6J("dir","ltr"===t.lcZ(1,5,i.dir)?"ltr":"rtl"),t.xp6(2),t.Q6J("opened",!t.lcZ(4,7,i.isHandset)||"false")("mode",t.lcZ(5,9,i.isHandset)?"over":"side"),t.xp6(38),t.Q6J("ngIf",a.opened),t.xp6(1),t.Q6J("ngIf",!a.opened)}},dependencies:[d.O5,v.Pi,_.lC,_.rH,_.Od,Be.Lv,Y.JX,Y.TM,Y.Rh,Q.Hw,Ct.Ye,A.i$,A.Tg,C.X2,A.Nh,w.lW,d.Ov],styles:["mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:95px!important}"]}),n})();var yt=s(8746),st=s(520),St=s(9537),Nt=s(4385);function He(n,o){1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"mat-spinner"),t.qZA(),t.TgZ(3,"div",11)(4,"p",12),t._uU(5,"Fetching Info from Credit Bank, please wait..."),t.qZA()()())}function Ye(n,o){if(1&n&&(t.TgZ(0,"form",13)(1,"h2",12),t._uU(2," Office Main Information "),t.qZA(),t.TgZ(3,"div",14)(4,"div",15)(5,"span",16),t._uU(6,"Office Name"),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div",15)(10,"span",16),t._uU(11,"Office License Number"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()()(),t.TgZ(14,"h2",12),t._uU(15," Transaction Details From Kuwaiti Credit Bank "),t.qZA(),t.TgZ(16,"div",17)(17,"p")(18,"span",12),t._uU(19,"Transaction Insertion Date"),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"localizedDate"),t.qZA()()(),t.TgZ(23,"div",18)(24,"span",19),t._uU(25,"* "),t.qZA(),t.TgZ(26,"span",12),t._uU(27," If the transaction data does not appear "),t.qZA()(),t.TgZ(28,"div",18)(29,"span",19),t._uU(30,"* "),t.qZA(),t.TgZ(31,"span",12),t._uU(32," For any inquiries, please contact us through the communication channels "),t.qZA()(),t.TgZ(33,"mat-grid-list",20),t.ALo(34,"async"),t.TgZ(35,"mat-grid-tile")(36,"div",4),t._UZ(37,"app-input",21),t.ALo(38,"translate"),t.qZA()(),t.TgZ(39,"mat-grid-tile")(40,"div",4),t._UZ(41,"app-input",22),t.ALo(42,"translate"),t.qZA()(),t.TgZ(43,"mat-grid-tile")(44,"div",4),t._UZ(45,"app-input",23),t.ALo(46,"translate"),t.qZA()(),t.TgZ(47,"mat-grid-tile")(48,"div",4),t._UZ(49,"app-input",24),t.ALo(50,"translate"),t.qZA()(),t.TgZ(51,"mat-grid-tile")(52,"div",4),t._UZ(53,"app-input",25),t.ALo(54,"translate"),t.qZA()(),t.TgZ(55,"mat-grid-tile")(56,"div",4),t._UZ(57,"app-input",26),t.ALo(58,"translate"),t.qZA()(),t.TgZ(59,"mat-grid-tile")(60,"div",4),t._UZ(61,"app-input",27),t.ALo(62,"translate"),t.qZA()(),t.TgZ(63,"mat-grid-tile")(64,"div",4),t._UZ(65,"app-input",28),t.ALo(66,"translate"),t.qZA()(),t.TgZ(67,"mat-grid-tile")(68,"div",4),t._UZ(69,"app-input",29),t.ALo(70,"translate"),t.qZA()(),t.TgZ(71,"mat-grid-tile")(72,"div",4),t._UZ(73,"app-input",30),t.ALo(74,"translate"),t.qZA()()()()),2&n){const e=t.oxw();t.Q6J("formGroup",e.transactionFrm),t.xp6(8),t.Oqu("ar"===e.language?e.transaction.Office.NameArabic:e.transaction.Office.NameEnglish),t.xp6(5),t.Oqu(e.transaction.Office.LicenseId),t.xp6(8),t.hij(" ",t.lcZ(22,25,e.transaction.CreatedDate),""),t.xp6(12),t.Q6J("cols",t.lcZ(34,27,e.isHandset)?1:3),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(38,29,"Agent Name")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(42,31,"Civil Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(46,33,"License Request Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(50,35,"Financial Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(54,37,"Area Name")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(58,39,"Sector Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(62,41,"Plot Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(66,43,"Property Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(70,45,"Property Area")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(74,47,"Building Type"))}}function Ge(n,o){1&n&&(t.TgZ(0,"span",33),t._uU(1,"\u2714\ufe0f"),t.qZA())}function $e(n,o){if(1&n&&(t.TgZ(0,"button",31)(1,"span",12),t._uU(2,"Submit Commitment"),t.qZA(),t.YNc(3,Ge,2,0,"span",32),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.transactionFrm.invalid||0!==e.currentStep),t.xp6(3),t.Q6J("ngIf",e.currentStep>0)}}function ze(n,o){1&n&&(t.TgZ(0,"span",33),t._uU(1,"\u2714\ufe0f"),t.qZA())}function Ke(n,o){if(1&n&&(t.TgZ(0,"button",31)(1,"span",12),t._uU(2,"Authenticate Hawyti For Office Owners"),t.qZA(),t.YNc(3,ze,2,0,"span",32),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.transactionFrm.invalid||1!==e.currentStep),t.xp6(3),t.Q6J("ngIf",e.currentStep>1)}}function je(n,o){1&n&&(t.TgZ(0,"span",33),t._uU(1,"\u2714\ufe0f"),t.qZA())}function Xe(n,o){if(1&n&&(t.TgZ(0,"button",31)(1,"span",12),t._uU(2,"Authenticate Hawyti For Agent"),t.qZA(),t.YNc(3,je,2,0,"span",32),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.transactionFrm.invalid||2!==e.currentStep),t.xp6(3),t.Q6J("ngIf",e.currentStep>2)}}function Ve(n,o){if(1&n&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.stage," ")}}function We(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h2",34),t._uU(2," Please select the stage you want to start working on to generate the casting certificate for it "),t.qZA(),t.TgZ(3,"mat-form-field",35)(4,"mat-label",12),t._uU(5,"Select Stage"),t.qZA(),t.TgZ(6,"mat-select",36),t.NdJ("valueChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedStage=a)}),t.YNc(7,Ve,2,2,"mat-option",37),t.qZA()(),t.TgZ(8,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveSelectedStage())}),t.ALo(9,"async"),t.TgZ(10,"span",12),t._uU(11,"Save Changes"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("value",e.selectedStage),t.xp6(1),t.Q6J("ngForOf",e.stagesForSelecting),t.xp6(1),t.Q6J("disabled",!e.selectedStage||t.lcZ(9,3,e.isLoading))}}function tn(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u2714\ufe0f"),t.qZA())}function en(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u{1f535}"),t.qZA())}function nn(n,o){1&n&&(t.TgZ(0,"span",12),t._uU(1,"Certificate has been generated"),t.qZA())}function an(n,o){1&n&&(t.TgZ(0,"small",12),t._uU(1," This stage has been done before inserting the transaction into KFEOCH system "),t.qZA())}function on(n,o){1&n&&(t.TgZ(0,"span",52),t._uU(1," Accepted extensions .pdf - Max Size: 15MB - one file "),t.qZA())}function rn(n,o){1&n&&(t.TgZ(0,"span",53),t._uU(1,"* "),t.TgZ(2,"span",12),t._uU(3," The attachment is mandatory and only for some casting stage photos "),t.qZA()())}function sn(n,o){1&n&&(t.TgZ(0,"span",52),t._uU(1," Please complete previous casting stages before this one "),t.qZA())}function cn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e),t.oxw();const a=t.MAs(2);return t.KtG(a.click())}),t.ALo(1,"async"),t.TgZ(2,"mat-icon"),t._uU(3,"upload"),t.qZA(),t.TgZ(4,"span",12),t._uU(5,"Upload File"),t.qZA()()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw(2);t.Q6J("disabled",e.isDone||t.lcZ(1,1,i.isLoadingDocuments))}}function ln(n,o){if(1&n&&(t._UZ(0,"mat-progress-spinner",61),t.ALo(1,"async")),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.Q6J("value",t.lcZ(1,1,i.uploadingType$.get(e.Id)))}}function dn(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",54,55),t.NdJ("change",function(a){t.CHM(e);const r=t.MAs(2),c=t.oxw().$implicit,p=t.oxw().$implicit;return t.oxw(2).uploadFile(a,c,p.key),t.KtG(r.value="")}),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"div",56),t._uU(5),t._UZ(6,"span",57),t.YNc(7,cn,6,3,"button",58),t.ALo(8,"async"),t.YNc(9,ln,2,3,"ng-template",null,59,t.W1O),t.qZA(),t.BQk()}if(2&n){const e=t.MAs(10),i=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("disabled",t.lcZ(3,4,a.isLoadingDocuments)),t.xp6(4),t.hij("","ar"===a.language?i.NameArabic:i.NameEnglish," "),t.xp6(2),t.Q6J("ngIf",!t.lcZ(8,6,a.uploadingType$.get(i.Id)))("ngIfElse",e)}}function pn(n,o){1&n&&(t.TgZ(0,"mat-icon",67),t._uU(1,"description"),t.qZA())}function un(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"p",63)(1,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(4);return t.KtG(r.deleteFile(a.Id,a.Name))}),t.ALo(2,"async"),t.TgZ(3,"span",12),t._uU(4,"Delete"),t.qZA()()()}if(2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("disabled",t.lcZ(2,1,e.isLoadingDocuments))}}function mn(n,o){if(1&n&&(t._UZ(0,"mat-progress-spinner",69),t.ALo(1,"async")),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.Q6J("value",t.lcZ(1,1,i.downloadingFile$.get(e.Id)))}}function fn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.YNc(1,pn,2,0,"mat-icon",62),t.ALo(2,"async"),t.TgZ(3,"div",63)(4,"span",64),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.openFileInNewWindow(r.Id,r.Name))}),t._uU(5),t.qZA()(),t.TgZ(6,"p",63),t._uU(7),t.ALo(8,"localizedDate"),t.qZA(),t.YNc(9,un,5,3,"p",65),t.YNc(10,mn,2,3,"ng-template",null,66,t.W1O),t._UZ(12,"mat-divider"),t.qZA()}if(2&n){const e=o.$implicit,i=t.MAs(11),a=t.oxw().$implicit,r=t.oxw().$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!t.lcZ(2,5,c.downloadingFile$.get(e.Id)))("ngIfElse",i),t.xp6(4),t.hij(" ","ar"===c.language?a.NameArabic:a.NameEnglish," "),t.xp6(2),t.Oqu(t.lcZ(8,7,e.AddedDate)),t.xp6(2),t.Q6J("ngIf",!r.certificateSentToCB||3===r.certificateSentToCB)}}function gn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,dn,11,8,"ng-container",6),t.YNc(2,fn,13,9,"mat-list-item",49),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.files.length&&e.isUnderRunning),t.xp6(1),t.Q6J("ngForOf",e.files)}}function hn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.generateCertificate())}),t.ALo(1,"async"),t.ALo(2,"async"),t.TgZ(3,"span",12),t._uU(4,"Generate Certificate for Current Stage"),t.qZA()()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.transactionFrm.invalid||t.lcZ(1,1,e.isLoadingPayments)||t.lcZ(2,3,e.isLoading))}}function _n(n,o){1&n&&(t.TgZ(0,"span",12),t._uU(1," Free Certificate"),t.qZA())}function bn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-grid-tile",74)(1,"div",4)(2,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.sendToCB(!!a.certificateId,!!a.files.length))}),t.ALo(3,"async"),t.TgZ(4,"span",12),t._uU(5,"Send Transaction to Kuwaiti Credit Bank"),t.qZA()()()()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("disabled",e.transactionFrm.invalid||t.lcZ(3,1,e.isLoading))}}function Tn(n,o){1&n&&(t.TgZ(0,"mat-grid-tile",74)(1,"div")(2,"span",19),t._uU(3,"* "),t.qZA(),t.TgZ(4,"span",75),t._uU(5,"Transaction should be sent to Credit Bank to be reviewed and approved"),t.qZA()()())}function xn(n,o){1&n&&(t.TgZ(0,"mat-grid-tile",74)(1,"div")(2,"span",19),t._uU(3,"* "),t.qZA(),t.TgZ(4,"span",75),t._uU(5,"When the customer wishes to get the payment"),t.qZA()()())}function An(n,o){1&n&&(t.TgZ(0,"span",78),t._uU(1,"Already Sent to Kuwaiti Credit Bank"),t.qZA())}function vn(n,o){1&n&&(t.TgZ(0,"span",12),t._uU(1,"Approved by Kuwaiti Credit Bank"),t.qZA())}function Cn(n,o){1&n&&(t.TgZ(0,"span",12),t._uU(1,"Rejected by Kuwaiti Credit Bank"),t.qZA())}function Zn(n,o){if(1&n&&(t.TgZ(0,"mat-grid-tile",74)(1,"div",4)(2,"button",76),t.YNc(3,An,2,0,"span",77),t.YNc(4,vn,2,0,"span",45),t.YNc(5,Cn,2,0,"span",45),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("ngIf",1===e.certificateSentToCB),t.xp6(1),t.Q6J("ngIf",2===e.certificateSentToCB),t.xp6(1),t.Q6J("ngIf",3===e.certificateSentToCB)}}function yn(n,o){1&n&&(t.TgZ(0,"mat-grid-tile",74)(1,"div",4)(2,"button",76)(3,"span",12),t._uU(4,"Transaction Completed"),t.qZA()()()())}function Sn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-grid-list",71)(1,"mat-grid-tile")(2,"div",4)(3,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.viewCertificate(a.certificateId))}),t.ALo(4,"async"),t.TgZ(5,"span",12),t._uU(6,"Open Casting Certificate"),t.qZA()()()(),t.TgZ(7,"mat-grid-tile")(8,"div",4)(9,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.viewPayment(a.certificateId))}),t.ALo(10,"async"),t.TgZ(11,"span",72),t._uU(12,"Open Payment Receipt"),t.qZA(),t.YNc(13,_n,2,0,"span",45),t.qZA()()(),t.YNc(14,bn,6,3,"mat-grid-tile",73),t.YNc(15,Tn,6,0,"mat-grid-tile",73),t.YNc(16,xn,6,0,"mat-grid-tile",73),t.YNc(17,Zn,6,3,"mat-grid-tile",73),t.YNc(18,yn,5,0,"mat-grid-tile",73),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(3),t.Q6J("disabled",i.transactionFrm.invalid||t.lcZ(4,8,i.isLoading)),t.xp6(6),t.Q6J("disabled",i.transactionFrm.invalid||!e.certAmount||t.lcZ(10,10,i.isLoading)),t.xp6(4),t.Q6J("ngIf",!e.certAmount),t.xp6(1),t.Q6J("ngIf",!i.hideSendNote(e)),t.xp6(1),t.Q6J("ngIf",!i.hideSendNote(e)),t.xp6(1),t.Q6J("ngIf",i.showApplyRequestNote(e)),t.xp6(1),t.Q6J("ngIf",e.certificateId&&e.files.length&&!!e.certificateSentToCB),t.xp6(1),t.Q6J("ngIf",i.isTransactionCompleted(e))}}function Nn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.regenerateCertificate())}),t.ALo(1,"async"),t.ALo(2,"async"),t.TgZ(3,"span",12),t._uU(4,"Regenerate Certificate for Current Stage"),t.qZA()()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.transactionFrm.invalid||t.lcZ(1,1,e.isLoadingPayments)||t.lcZ(2,3,e.isLoading))}}const In=function(n){return{"disabled-panel":n}};function wn(n,o){if(1&n&&(t.TgZ(0,"mat-expansion-panel",43)(1,"mat-expansion-panel-header")(2,"mat-panel-title",44)(3,"div"),t._uU(4),t.YNc(5,tn,2,0,"span",6),t.YNc(6,en,2,0,"span",6),t.qZA(),t.YNc(7,nn,2,0,"span",45),t.qZA()(),t.TgZ(8,"div"),t.YNc(9,an,2,0,"small",45),t.YNc(10,on,2,0,"span",46),t._UZ(11,"br"),t.YNc(12,rn,4,0,"span",47),t.YNc(13,sn,2,0,"span",46),t.TgZ(14,"mat-list",48),t.YNc(15,gn,3,2,"ng-container",49),t.qZA(),t.YNc(16,hn,5,5,"button",50),t.YNc(17,Sn,19,12,"mat-grid-list",51),t.YNc(18,Nn,5,5,"button",50),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("expanded",i.currentStep>2&&e.isUnderRunning)("ngClass",t.VKq(14,In,i.disablePanels())),t.xp6(4),t.hij(" ",e.stage," "),t.xp6(1),t.Q6J("ngIf",e.isDone),t.xp6(1),t.Q6J("ngIf",e.isUnderRunning),t.xp6(1),t.Q6J("ngIf",e.certificateId),t.xp6(2),t.Q6J("ngIf",!e.certificateId&&e.isDone),t.xp6(1),t.Q6J("ngIf",!e.files.length&&e.isUnderRunning),t.xp6(2),t.Q6J("ngIf",!e.files.length&&e.isUnderRunning),t.xp6(1),t.Q6J("ngIf",e.isNext),t.xp6(2),t.Q6J("ngForOf",i.certificatesDocuments),t.xp6(1),t.Q6J("ngIf",i.showGenerateCertificateButton(e)),t.xp6(1),t.Q6J("ngIf",i.showCertificateButtons(e)),t.xp6(1),t.Q6J("ngIf",i.showRegenerateCertificateButton(e))}}function On(n,o){if(1&n&&(t.TgZ(0,"mat-accordion")(1,"h2",40),t._uU(2," Casting Stages "),t.qZA(),t.TgZ(3,"div",41),t._uU(4," \u2714\ufe0f "),t.TgZ(5,"span",12),t._uU(6,"Already Done Stage"),t.qZA(),t._UZ(7,"br"),t._uU(8," \u{1f535} "),t.TgZ(9,"span",12),t._uU(10,"Next Stage"),t.qZA()(),t.YNc(11,wn,19,16,"mat-expansion-panel",42),t.qZA()),2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngForOf",e.formattedStages)}}function Dn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",79)(1,"button",80),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.handleArchiveAction())}),t.ALo(2,"async"),t.TgZ(3,"mat-icon"),t._uU(4),t.qZA(),t.TgZ(5,"span",12),t._uU(6),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("color",e.transaction.Archived?"warn":"accent")("disabled",t.lcZ(2,4,e.isLoading)),t.xp6(3),t.Oqu(e.transaction.Archived?"cloud_download":"cloud_upload"),t.xp6(2),t.Oqu(e.transaction.Archived?"Unarchive Transaction":"Archive Transaction")}}const Mn=function(n){return{"archive-button-wrapper":n}};function qn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",81)(1,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateCertificatesStatus())}),t.ALo(2,"async"),t.TgZ(3,"mat-icon"),t._uU(4,"autorenew"),t.qZA(),t.TgZ(5,"span",12),t._uU(6,"Update Certificates Status"),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(4,Mn,e.transaction.Completed)),t.xp6(1),t.Q6J("disabled",t.lcZ(2,2,e.isLoading))}}let ct=(()=>{class n{constructor(e,i,a,r,c,p,m,f){this.deviceService=e,this.route=i,this.transactionService=a,this.languageService=r,this.documentService=c,this.confirm=p,this.accountService=m,this.router=f,this.isHandset=this.deviceService.isHandset$,this.language$=this.languageService.currentLanguage$,this.language="ar",this.isLoading=this.transactionService.isLoading$,this.isLoadingDocuments=new $.X(!1),this.isLoadingPage=new $.X(!1),this.isAdmin=this.accountService.inRoles(["Administrator","OfficeManager"]),this.isLoadingPayments=this.transactionService.isLoadingPayments$,this.uploadingType$=this.documentService.uploadingType$,this.downloadingFile$=this.documentService.downloadingFile$,this.formattedStages=[],this.stagesForSelecting=[],this.transactionId$=this.route.paramMap.pipe((0,l.q)(1),(0,M.U)(g=>g.get("id")?(this.transactionId=+g.get("id"),this.transactionId):this.transactionId??0)),this.castingTypesStages={},this.castingStages=[]}ngOnInit(){this.isLoadingPage.next(!0),this.language$.pipe((0,l.q)(1)).subscribe(e=>{this.language=e}),this.transactionId$.pipe((0,l.q)(1),(0,h.h)(e=>!!e),(0,y.w)(e=>this.transactionService.fetchTransactionInfoFromKFEOCH(e).pipe((0,l.q)(1),(0,b.b)(i=>{this.transaction=i.transactionInfo,this.certificatesDocuments=i.transactionDocuments,this.currentStageCode=this.transaction.CurrentStageCode,this.currentStep=this.transaction.CurrentStep||0,this.transactionFrm?this.transactionFrm.patchValue(i.transactionInfo):this.transactionFrm=this.transactionService.fetchCastingSupervisionTransactionForm(this.transaction)}),(0,y.w)(()=>this.transactionService.getBuildingStages(this.transaction.NumberOfFloors).pipe((0,l.q)(1),(0,b.b)(i=>{this.castingStages=i}),(0,y.w)(()=>this.transactionFrm?this.getAllTypesWithStages():(0,q.of)([{key:0,type:"N/A",stage:"N/A",isDone:!1,isUnderRunning:!1,isNext:!1,certificateId:null,certAmount:null,certificateSentToCB:null,files:[]}])),(0,b.b)(i=>{this.formattedStages=i,this.stagesForSelecting=i.map(a=>({key:a.key,stage:a.stage}))}))),(0,nt.K)(i=>(console.error("Error:",i),(0,q.of)(null))),(0,yt.x)(()=>{this.isLoadingPage.next(!1)})))).subscribe()}getAllTypesWithStages(){let e=[];return this.castingStages.forEach(i=>{const a=this.getNextStageNumber();let r=i.StageNumber<a||!!this.transaction?.Completed,c=this.transaction?.HasBasement||!1,p=i.StageNumber===a&&!this.transaction.Completed,m=i.StageNumber>a,f=this.transaction.StagesCertificates.filter(E=>E.StageNumber===i.StageNumber)[0],g=f?.Id||null,K=f?.Amount||null,It=f?.SentToCBStatus||null;(0!==i.StageNumber&&2!==i.StageNumber||2===i.StageNumber&&c)&&e.push("ar"===this.language?{key:i.StageNumber,stage:i.StageArabic,isDone:r,isUnderRunning:p,isNext:m,certificateId:g,certAmount:K,certificateSentToCB:It,files:this.certificatesDocuments.flatMap(E=>E.Files.filter(lt=>lt.DocumentUrl.split("/").at(-2)===String(i.StageNumber)))||[]}:{key:i.StageNumber,stage:i.StageName,isDone:r,isUnderRunning:p,isNext:m,certificateId:g,certAmount:K,certificateSentToCB:It,files:this.certificatesDocuments.flatMap(E=>E.Files.filter(lt=>lt.DocumentUrl.split("/").at(-2)===String(i.StageNumber)))||[]})}),(0,q.of)(e)}saveSelectedStage(){null!==this.selectedStage&&this.confirm.open({Type:"update"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.updateTransactionSelectedStage(this.transactionId,this.selectedStage).pipe((0,l.q)(1),(0,b.b)(e=>{e&&(this.transaction.SelectedStage=this.selectedStage,console.log("WILL refresh"),this.ngOnInit())})))).subscribe()}getNextStageNumber(){return this.transaction?.HasBasement||"1"!==this.currentStageCode?Number(this.currentStageCode)+1:3}generateCertificate(){this.transactionFrm.invalid||this.confirm.open({Type:"generate-transaction-certificate"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.postCBCertificateKpay({TransactionId:this.transactionId,StageNumber:this.currentStageCode}))).subscribe(e=>window.open(e.PaymentUrl,"_self"))}generateStructuralCompletionCertificate(){this.transactionFrm.invalid||this.confirm.open({Type:"generate-structural-completion-certificate"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.postCBCompletionCertificateKpay({TransactionId:this.transactionId}))).subscribe(e=>window.open(e.PaymentUrl,"_self"))}regenerateCertificate(){this.transactionFrm.invalid||this.confirm.open({Type:"regenerate-transaction-certificate"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.generateFreeCertificate({TransactionId:this.transactionId,StageNumber:this.currentStageCode}))).subscribe(e=>{this.ngOnInit()})}getCreatedDate(){return(0,st.z)(this.transaction.CreatedDate)}viewCertificate(e){window.open(`/printables/cb-certificates/${e}`,"_blank")}viewPayment(e){window.open(`/printables/cb-payments/${e}`,"_blank")}sendToCB(e,i){!e||!i||this.confirm.open({Type:"send-certificate-files"}).pipe((0,l.q)(1),(0,h.h)(a=>a),(0,T.z)(()=>this.transactionService.sendStageFilesToCB(this.transactionId,Number(this.currentStageCode)).pipe((0,yt.x)(()=>{this.ngOnInit()})))).subscribe()}disablePanels(){return this.currentStep<3}showGenerateCertificateButton(e){return this.currentStep>2&&e.isUnderRunning&&null===e.certificateId}showRegenerateCertificateButton(e){return this.currentStep>2&&e.isUnderRunning&&null!==e.certificateId&&e.certificateSentToCB!=S.kc.Approved&&e.certificateSentToCB!=S.kc.Sent}showCertificateButtons(e){return this.currentStep>2&&null!==e.certificateId}uploadFile(e,i,a){if(!e.target?.files||0===e.target?.files.length)return;this.isLoadingDocuments.next(!0);const r=e.target.files[0],c=new FormData;c.append("File",r),c.append("ParentId",this.transactionId?this.transactionId.toString():""),c.append("DocumentTypeId",i.Id.toString()),c.append("ModelName","cb-certificates"),c.append("StageNumber",a.toString()),this.documentService.uploadDocument(c).subscribe(p=>{p&&(this.isLoadingDocuments.next(!1),this.ngOnInit())})}openFileInNewWindow(e,i){return this.documentService.getFile(e).subscribe(a=>{if(i){const r=URL.createObjectURL(a);window.open(r)}})}deleteFile(e,i){this.confirm.open({Type:"delete",ElementNameArabic:i,ElementNameEnglish:i}).pipe((0,h.h)(a=>a),(0,T.z)(()=>(this.isLoadingDocuments.next(!0),this.documentService.deleteFile(e)))).subscribe(a=>{a&&(this.isLoadingDocuments.next(!1),this.ngOnInit())})}isStageVisible(e){const i=e.certificateId&&e.files.length,a=e.key===this.getNextStageNumber()&&!this.transaction.Completed&&!e.certificateSentToCB;return i&&a}isTransactionCompleted(e){return e.certificateId&&e.files.length&&this.transaction.Completed&&e.key===Number(this.currentStageCode)}hideSendNote(e){return e.certificateSentToCB||e.key<Number(this.currentStageCode)}showApplyRequestNote(e){return e.certificateId&&e.files.length&&(!e.certificateSentToCB||1===e.certificateSentToCB)}handleArchiveAction(){this.transaction.Archived?this.confirm.open({Type:"unarchive transaction"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.unarchiveCBTransaction(this.transaction.OfficeId,this.transaction.Id))).subscribe(e=>{e&&this.router.navigate(["../"],{relativeTo:this.route})}):this.confirm.open({Type:"archive transaction"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.archiveCBTransaction(this.transaction.OfficeId,this.transaction.Id))).subscribe(e=>{e&&this.router.navigate(["../"],{relativeTo:this.route})})}updateCertificatesStatus(){this.transactionService.updateCertificatesStatus(this.transaction.Id).pipe((0,l.q)(1),(0,b.b)(e=>{e&&this.ngOnInit()})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(_.gz),t.Y36(U.V),t.Y36(I.Z),t.Y36(St.Z),t.Y36(k.z),t.Y36(L.B),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-office-transaction-details"]],decls:16,vars:16,consts:[[1,"office-home-content",3,"ngClass"],["class","overall-spinner-container",4,"ngIf"],[3,"formGroup",4,"ngIf"],["rowHeight","180","cols","1"],[1,"form-field-container"],["mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],[4,"ngIf"],["class","archive-button-wrapper",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"overall-spinner-container"],[1,"spinner-wrapper"],[1,"spinner-message"],["translate",""],[3,"formGroup"],[2,"margin-bottom","20px"],[1,"info-row"],["translate","",1,"info-label"],[1,"mat-typography"],[2,"font-size","14px","color","orangered","font-weight","bold","padding-left","20px","text-indent","-13px","margin-bottom","10px"],[2,"font-size","17px","color","orangered","font-weight","bold"],["rowHeight","75",1,"non-editable-input",3,"cols"],["controlName","AgentName","type","text",3,"formGroup","label"],["controlName","CivilNumber","type","text",3,"formGroup","label"],["controlName","TransactionLicenseNo","type","text",3,"formGroup","label"],["controlName","FinancialNumber","type","text",3,"formGroup","label"],["controlName","AreaName","type","text",3,"formGroup","label"],["controlName","SectorNumber","type","text",3,"formGroup","label"],["controlName","PlotNumber","type","text",3,"formGroup","label"],["controlName","PropertyNumber","type","text",3,"formGroup","label"],["controlName","PropertyArea","type","text",3,"formGroup","label"],["controlName","BuildingType","type","text",3,"formGroup","label"],["mat-raised-button","","color","primary",3,"disabled"],["style","margin-right: 1em;",4,"ngIf"],[2,"margin-right","1em"],["translate","",2,"color","orangered"],["appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],["translate","",2,"margin-bottom","5px !important"],[2,"margin-bottom","15px !important"],[3,"expanded","ngClass",4,"ngFor","ngForOf"],[3,"expanded","ngClass"],[2,"display","flex","justify-content","space-between"],["translate","",4,"ngIf"],["style","font-size:13px;color:orangered;","translate","",4,"ngIf"],["style","font-size:13px;color:orangered;font-weight: bold;",4,"ngIf"],[1,"file-list",2,"margin-bottom","15px"],[4,"ngFor","ngForOf"],["class","centered-button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["rowHeight","50","cols","2","class","actions-container",4,"ngIf"],["translate","",2,"font-size","13px","color","orangered"],[2,"font-size","13px","color","orangered","font-weight","bold"],["id","file-upload","type","file","name","fileUpload","accept",".pdf",3,"disabled","change"],["input",""],["mat-subheader",""],[1,"full-spacer"],["mat-button","","color","primary","type","button",3,"disabled","click",4,"ngIf","ngIfElse"],["uploading",""],["mat-button","","color","primary","type","button",3,"disabled","click"],["diameter","30",3,"value"],["mat-list-icon","","class","material-icons-outlined",4,"ngIf","ngIfElse"],["mat-line",""],[3,"click"],["mat-line","",4,"ngIf"],["downloading",""],["mat-list-icon","",1,"material-icons-outlined"],["mat-button","","color","warn","type","button",3,"disabled","click"],["mat-list-icon","","diameter","30",3,"value"],["mat-raised-button","","color","primary",1,"centered-button",3,"disabled","click"],["rowHeight","50","cols","2",1,"actions-container"],["translate","",2,"display","inline-block"],["colspan","2",4,"ngIf"],["colspan","2"],["translate","",2,"font-size","14px","color","orangered","font-weight","bold"],["mat-raised-button","","disabled","","color","primary"],["style","font-size:15px;color:orangered;","translate","",4,"ngIf"],["translate","",2,"font-size","15px","color","orangered"],[1,"archive-button-wrapper"],["mat-raised-button","",3,"color","disabled","click"],[3,"ngClass"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.YNc(2,He,6,0,"div",1),t.ALo(3,"async"),t.ALo(4,"async"),t.YNc(5,Ye,75,49,"form",2),t.TgZ(6,"mat-grid-list",3)(7,"mat-grid-tile")(8,"div",4),t.YNc(9,$e,4,2,"button",5),t.YNc(10,Ke,4,2,"button",5),t.YNc(11,Xe,4,2,"button",5),t.qZA()()(),t.YNc(12,We,12,5,"ng-container",6),t.YNc(13,On,12,1,"mat-accordion",6),t.YNc(14,Dn,7,6,"div",7),t.YNc(15,qn,7,6,"div",8),t.qZA()),2&e&&(t.Q6J("ngClass",t.lcZ(1,10,i.isHandset)?"office-home-content-handset":""),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,12,i.isLoading)||t.lcZ(4,14,i.isLoadingPage)),t.xp6(3),t.Q6J("ngIf",i.transactionFrm),t.xp6(4),t.Q6J("ngIf",i.currentStep>=0),t.xp6(1),t.Q6J("ngIf",i.currentStep>=0),t.xp6(1),t.Q6J("ngIf",i.currentStep>=0),t.xp6(1),t.Q6J("ngIf",(!(null!=i.transaction&&i.transaction.SelectedStage)&&!(null!=i.transaction&&i.transaction.Completed)||i.isAdmin)&&i.transactionFrm),t.xp6(1),t.Q6J("ngIf",(null==i.transaction?null:i.transaction.SelectedStage)&&(null==i.formattedStages?null:i.formattedStages.length)),t.xp6(1),t.Q6J("ngIf",i.transaction&&!i.transaction.Completed),t.xp6(1),t.Q6J("ngIf",i.transaction))},dependencies:[d.mk,d.sg,d.O5,v.Pi,Q.Hw,A.i$,A.Tg,C.X2,A.Nh,A.gs,it.d,N.Il,N.DX,u._Y,u.JL,u.sg,G.a,w.lW,R.KE,R.hX,jt,ht,_t,Kt,H.Ou,Nt.gD,C.ey,d.Ov,v.X$,P.g],styles:['.non-editable-input input.mat-input-element{background-color:#eeebeb;color:#000}.vertical-toggle-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.centered-button[_ngcontent-%COMP%]{display:block;width:50%!important;margin:auto!important}mat-panel-title[_ngcontent-%COMP%]{height:23px!important}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]{background-color:#e9e9e9}.disabled-panel[_ngcontent-%COMP%]{pointer-events:none}.overall-spinner-container[_ngcontent-%COMP%]{height:175%;width:90%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#e4dedef7}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.spinner-message[_ngcontent-%COMP%]{text-align:center;color:gold;font-size:1.4em;animation:fadeIn 1.5s ease-in-out infinite;padding:20px}@keyframes fadeIn{0%,to{opacity:0}50%{opacity:1}}.actions-container[_ngcontent-%COMP%]   .mat-grid-tile[_ngcontent-%COMP%]:nth-child(4){margin-bottom:-50px}.archive-button-wrapper[_ngcontent-%COMP%]{margin-top:2em}  .mat-button-wrapper{display:flex;align-items:center;justify-content:center;gap:1em}.info-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:25px}.info-label[_ngcontent-%COMP%]{min-width:150px}.info-label[_ngcontent-%COMP%]:after{content:" :"}']}),n})();var z=s(3983);let Un=(()=>{class n{constructor(e,i,a,r,c,p){this.deviceService=e,this.languageService=i,this.accountService=a,this.transactionService=r,this.route=c,this.router=p,this.officeId=this.accountService.getOfficeId()||0,this.isHandset=this.deviceService.isHandset$,this.isLoading=this.transactionService.isLoading$,this.columns=[],this.filter=new at.H1,this.language$=this.languageService.currentLanguage$}ngOnInit(){this.isHandset.subscribe(e=>{this.columns=e?this.officeId?z.kf.handset.filter(i=>!i.Name?.includes("Engineering Office")):z.kf.handset:this.officeId?z.kf.nonHandset.filter(i=>!i.Name?.includes("Engineering Office")):z.kf.nonHandset}),this.certificates=this.transactionService.getAllOfficeCBCertificates(this.officeId).pipe((0,l.q)(1))}goToCertificate(e){this.router.navigateByUrl("/printables/cb-certificates/"+e.Id)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(I.Z),t.Y36(L.B),t.Y36(U.V),t.Y36(_.gz),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cb-transactions-certificates-list"]],decls:9,vars:9,consts:[[1,"office-home-content",3,"ngClass"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate","",1,"no-margin"],[3,"language$","data","isLoading","havePaging","columnsDef","clickable","rowClicked"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3," List Of Certificates "),t.qZA(),t.TgZ(4,"h3",2),t._uU(5," List & view transactions certificates "),t.qZA(),t.TgZ(6,"p",3),t._uU(7," Click on a certificate to show information "),t.qZA(),t.TgZ(8,"app-dynamic-data-table",4),t.NdJ("rowClicked",function(r){return i.goToCertificate(r)}),t.qZA()()),2&e&&(t.Q6J("ngClass",t.lcZ(1,7,i.isHandset)?"office-home-content-handset":""),t.xp6(8),t.Q6J("language$",i.language$)("data",i.certificates)("isLoading",i.isLoading)("havePaging",!0)("columnsDef",i.columns)("clickable",!0))},dependencies:[d.mk,v.Pi,ot.j,d.Ov]}),n})();function Fn(n,o){if(1&n&&(t.TgZ(0,"form",6)(1,"h2",5),t._uU(2," Transaction Details From Kuwaiti Credit Bank "),t.qZA(),t.TgZ(3,"div",7)(4,"p")(5,"span",5),t._uU(6,"Transaction Insertion Date"),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"localizedDate"),t.qZA()()(),t.TgZ(10,"mat-grid-list",8),t.ALo(11,"async"),t.TgZ(12,"mat-grid-tile")(13,"div",3),t._UZ(14,"app-input",9),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"mat-grid-tile")(17,"div",3),t._UZ(18,"app-input",10),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"mat-grid-tile")(21,"div",3),t._UZ(22,"app-input",11),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"mat-grid-tile")(25,"div",3),t._UZ(26,"app-input",12),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"mat-grid-tile")(29,"div",3),t._UZ(30,"app-input",13),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"mat-grid-tile")(33,"div",3),t._UZ(34,"app-input",14),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"mat-grid-tile")(37,"div",3),t._UZ(38,"app-input",15),t.ALo(39,"translate"),t.qZA()(),t.TgZ(40,"mat-grid-tile")(41,"div",3),t._UZ(42,"app-input",16),t.ALo(43,"translate"),t.qZA()(),t.TgZ(44,"mat-grid-tile")(45,"div",3),t._UZ(46,"app-input",17),t.ALo(47,"translate"),t.qZA()(),t.TgZ(48,"mat-grid-tile")(49,"div",3),t._UZ(50,"app-input",18),t.ALo(51,"translate"),t.qZA()()()()),2&n){const e=t.oxw();t.Q6J("formGroup",e.transactionFrm),t.xp6(8),t.hij(" ",t.lcZ(9,23,e.transaction.CreatedDate),""),t.xp6(2),t.Q6J("cols",t.lcZ(11,25,e.isHandset)?1:3),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(15,27,"Agent Name")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(19,29,"Civil Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(23,31,"License Request Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(27,33,"Financial Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(31,35,"Area Name")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(35,37,"Sector Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(39,39,"Plot Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(43,41,"Property Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(47,43,"Property Area")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(51,45,"Building Type"))}}let Pn=(()=>{class n{constructor(e,i,a,r,c,p){this.deviceService=e,this.route=i,this.transactionService=a,this.languageService=r,this.confirm=c,this.router=p,this.isHandset=this.deviceService.isHandset$,this.language$=this.languageService.currentLanguage$,this.transactionId$=this.route.paramMap.pipe((0,l.q)(1),(0,M.U)(m=>m.get("id")?(this.transactionId=+m.get("id"),this.transactionId):this.transactionId??0))}ngOnInit(){this.transactionId$.pipe((0,l.q)(1),(0,h.h)(e=>!!e),(0,y.w)(e=>this.transactionService.fetchTransactionInfoFromKFEOCH(e))).subscribe(e=>{this.transaction=e.transactionInfo,this.certificatesDocuments=e.transactionDocuments,this.currentStep=this.transaction.CurrentStep||0,this.transactionFrm=this.transactionService.fetchCastingSupervisionTransactionForm(this.transaction)})}getCreatedDate(){return(0,st.z)(this.transaction.CreatedDate)}terminateTransaction(){this.confirm.open({Type:"terminate transaction"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.terminateCBTransaction({TransactionId:this.transactionId,OfficeId:this.transaction.OfficeId}))).subscribe(e=>{e&&this.router.navigateByUrl(`/office/${this.transaction.OfficeId}/cb-transactions/ongoing-list`)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(_.gz),t.Y36(U.V),t.Y36(I.Z),t.Y36(k.z),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cb-transactions-termination"]],decls:9,vars:4,consts:[[1,"office-home-content",3,"ngClass"],[3,"formGroup",4,"ngIf"],["rowHeight","80","cols","1"],[1,"form-field-container"],["mat-raised-button","","color","primary",3,"click"],["translate",""],[3,"formGroup"],[1,"mat-typography"],["rowHeight","75",1,"non-editable-input",3,"cols"],["controlName","AgentName","type","text",3,"formGroup","label"],["controlName","CivilNumber","type","text",3,"formGroup","label"],["controlName","TransactionLicenseNo","type","text",3,"formGroup","label"],["controlName","FinancialNumber","type","text",3,"formGroup","label"],["controlName","AreaName","type","text",3,"formGroup","label"],["controlName","SectorNumber","type","text",3,"formGroup","label"],["controlName","PlotNumber","type","text",3,"formGroup","label"],["controlName","PropertyNumber","type","text",3,"formGroup","label"],["controlName","PropertyArea","type","text",3,"formGroup","label"],["controlName","BuildingType","type","text",3,"formGroup","label"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.YNc(2,Fn,52,47,"form",1),t.TgZ(3,"mat-grid-list",2)(4,"mat-grid-tile")(5,"div",3)(6,"button",4),t.NdJ("click",function(){return i.terminateTransaction()}),t.TgZ(7,"span",5),t._uU(8,"Terminate"),t.qZA()()()()()()),2&e&&(t.Q6J("ngClass",t.lcZ(1,2,i.isHandset)?"office-home-content-handset":""),t.xp6(2),t.Q6J("ngIf",i.transactionFrm))},dependencies:[d.mk,d.O5,v.Pi,N.Il,N.DX,u._Y,u.JL,u.sg,G.a,w.lW,d.Ov,v.X$,P.g],styles:[".non-editable-input input.mat-input-element{background-color:#eeebeb;color:#000}"]}),n})();var Ln=s(1365);function kn(n,o){if(1&n&&(t.TgZ(0,"form",10)(1,"h2",2),t._uU(2," Transaction Details From Kuwaiti Credit Bank "),t.qZA(),t.TgZ(3,"div",11)(4,"p")(5,"span",2),t._uU(6,"Transaction Insertion Date"),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"localizedDate"),t.qZA()()(),t.TgZ(10,"mat-grid-list",12),t.ALo(11,"async"),t.TgZ(12,"mat-grid-tile")(13,"div",8),t._UZ(14,"app-input",13),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"mat-grid-tile")(17,"div",8),t._UZ(18,"app-input",14),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"mat-grid-tile")(21,"div",8),t._UZ(22,"app-input",15),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"mat-grid-tile")(25,"div",8),t._UZ(26,"app-input",16),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"mat-grid-tile")(29,"div",8),t._UZ(30,"app-input",17),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"mat-grid-tile")(33,"div",8),t._UZ(34,"app-input",18),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"mat-grid-tile")(37,"div",8),t._UZ(38,"app-input",19),t.ALo(39,"translate"),t.qZA()(),t.TgZ(40,"mat-grid-tile")(41,"div",8),t._UZ(42,"app-input",20),t.ALo(43,"translate"),t.qZA()(),t.TgZ(44,"mat-grid-tile")(45,"div",8),t._UZ(46,"app-input",21),t.ALo(47,"translate"),t.qZA()(),t.TgZ(48,"mat-grid-tile")(49,"div",8),t._UZ(50,"app-input",22),t.ALo(51,"translate"),t.qZA()()()()),2&n){const e=t.oxw();t.Q6J("formGroup",e.transactionFrm),t.xp6(8),t.hij(" ",t.lcZ(9,23,e.transaction.CreatedDate),""),t.xp6(2),t.Q6J("cols",t.lcZ(11,25,e.isHandset)?1:3),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(15,27,"Agent Name")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(19,29,"Civil Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(23,31,"License Request Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(27,33,"Financial Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(31,35,"Area Name")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(35,37,"Sector Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(39,39,"Plot Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(43,41,"Property Number")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(47,43,"Property Area")),t.xp6(4),t.Q6J("formGroup",e.transactionFrm)("label",t.lcZ(51,45,"Current Stage"))}}function En(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e),t.oxw();const a=t.MAs(2);return t.KtG(a.click())}),t.TgZ(1,"mat-icon"),t._uU(2,"upload"),t.qZA(),t.TgZ(3,"span",2),t._uU(4,"Upload File"),t.qZA()()}}function Bn(n,o){if(1&n&&(t._UZ(0,"mat-progress-spinner",30),t.ALo(1,"async")),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("value",t.lcZ(1,1,i.uploadingType$.get(e.Id)))}}function Jn(n,o){1&n&&(t.TgZ(0,"mat-icon",35),t._uU(1,"description"),t.qZA())}function Rn(n,o){if(1&n&&(t._UZ(0,"mat-progress-spinner",36),t.ALo(1,"async")),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("value",t.lcZ(1,1,i.downloadingFile$.get(e.Id)))}}function Qn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.YNc(1,Jn,2,0,"mat-icon",31),t.ALo(2,"async"),t.TgZ(3,"div",32)(4,"span",33),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openFileInNewWindow(r.Id,r.Name))}),t._uU(5),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"p",32),t._uU(8),t.ALo(9,"localizedDate"),t.qZA(),t.YNc(10,Rn,2,3,"ng-template",null,34,t.W1O),t.qZA()}if(2&n){const e=o.$implicit,i=t.MAs(11),a=t.oxw().$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngIf",!t.lcZ(2,4,r.downloadingFile$.get(e.Id)))("ngIfElse",i),t.xp6(4),t.Oqu("ar"===t.lcZ(6,6,r.language$)?a.NameArabic:a.NameEnglish),t.xp6(3),t.Oqu(t.lcZ(9,8,e.AddedDate))}}function Hn(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",23,24),t.NdJ("change",function(a){const c=t.CHM(e).$implicit,p=t.MAs(2);return t.oxw().uploadFile(a,c),t.KtG(p.value="")}),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"div",25),t._uU(5),t.ALo(6,"async"),t._UZ(7,"span",26),t.YNc(8,En,5,0,"button",27),t.ALo(9,"async"),t.YNc(10,Bn,2,3,"ng-template",null,28,t.W1O),t.qZA(),t.YNc(12,Qn,12,10,"mat-list-item",6),t._UZ(13,"mat-divider"),t.BQk()}if(2&n){const e=o.$implicit,i=t.MAs(11),a=t.oxw();t.xp6(1),t.Q6J("disabled",t.lcZ(3,5,a.isLoading)),t.xp6(4),t.hij("","ar"===t.lcZ(6,7,a.language$)?e.NameArabic:e.NameEnglish," "),t.xp6(3),t.Q6J("ngIf",!t.lcZ(9,9,a.uploadingType$.get(e.Id)))("ngIfElse",i),t.xp6(4),t.Q6J("ngForOf",e.Files)}}function Yn(n,o){1&n&&(t.TgZ(0,"span",39),t._uU(1,"\u2714\ufe0f"),t.qZA())}function Gn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateTerminationStep())}),t.TgZ(1,"span",2),t._uU(2,"Submit Commitment"),t.qZA(),t.YNc(3,Yn,2,0,"span",38),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",e.transactionFrm.invalid||0!==e.CurrentTerminationStep),t.xp6(3),t.Q6J("ngIf",e.CurrentTerminationStep>0)}}function $n(n,o){1&n&&(t.TgZ(0,"span",39),t._uU(1,"\u2714\ufe0f"),t.qZA())}function zn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openOwnersModal())}),t.TgZ(1,"span",2),t._uU(2,"Authenticate Hawyti For Office Owners"),t.qZA(),t.YNc(3,$n,2,0,"span",38),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",e.transactionFrm.invalid||1!==e.CurrentTerminationStep),t.xp6(3),t.Q6J("ngIf",e.CurrentTerminationStep>1)}}function Kn(n,o){1&n&&(t.TgZ(0,"span",39),t._uU(1,"\u2714\ufe0f"),t.qZA())}function jn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateTerminationStep())}),t.TgZ(1,"span",2),t._uU(2,"Authenticate Hawyti For Agent"),t.qZA(),t.YNc(3,Kn,2,0,"span",38),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",e.transactionFrm.invalid||2!==e.CurrentTerminationStep),t.xp6(3),t.Q6J("ngIf",e.CurrentTerminationStep>2)}}function Xn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateTerminationStep())}),t.TgZ(1,"span",2),t._uU(2,"Send Transaction Termination to Kuwaiti Credit Bank"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("disabled",e.transactionFrm.invalid||3!==e.CurrentTerminationStep)}}let Vn=(()=>{class n{constructor(e,i,a,r,c,p,m,f){this.deviceService=e,this.route=i,this.transactionService=a,this.languageService=r,this.documentService=c,this.confirm=p,this.router=m,this.dialog=f,this.isHandset=this.deviceService.isHandset$,this.castingTypesStages=[],this.language$=this.languageService.currentLanguage$,this.isLoading=new $.X(!1),this.uploadingType$=this.documentService.uploadingType$,this.downloadingFile$=this.documentService.downloadingFile$,this.dialogTypes=["cb-transaction-authenticate-hawiti","terminate transaction"],this.dialogHeaders=["Authenticate Hawyti For Agent","Terminate"],this.selectedStage="",this.transactionId$=this.route.paramMap.pipe((0,l.q)(1),(0,M.U)(g=>g.get("id")?(this.transactionId=+g.get("id"),this.transactionId):this.transactionId??0)),this.BuildingType=""}ngOnInit(){this.transactionService.getBuildingStages("3").pipe((0,l.q)(1),(0,b.b)(e=>{this.castingTypesStages=e}),(0,y.w)(()=>this.transactionId$.pipe((0,l.q)(1),(0,h.h)(e=>!!e),(0,y.w)(e=>this.transactionService.fetchTransactionTerminationInfoFromKFEOCH(e)),(0,Ln.M)(this.language$))),(0,b.b)(([e,i])=>{this.transaction=e.transactionInfo,this.cbTerminationDocuments=e.transactionDocuments,this.CurrentTerminationStep=this.transaction.TerminatedTransactions[0]?.CurrentTerminationStep||0,this.transactionFrm=this.transactionService.fetchCastingSupervisionTransactionForm(this.transaction)}),(0,nt.K)(e=>(console.error("Error occurred:",e),(0,q.of)(null)))).subscribe()}generateCertificate(){this.transactionFrm.invalid||this.confirm.open({Type:"generate-transaction-certificate"}).pipe((0,l.q)(1),(0,h.h)(e=>e),(0,T.z)(()=>this.transactionService.postCBCertificateKpay({TransactionId:this.transactionId,StageNumber:this.currentStage}))).subscribe(e=>{this.ngOnInit()})}getCreatedDate(){return(0,st.z)(this.transaction.CreatedDate)}getDialogInfo(){return{Type:this.dialogTypes[this.CurrentTerminationStep]||"",Header:this.dialogHeaders[this.CurrentTerminationStep]||""}}updateTerminationStep(){if(this.transactionFrm.invalid)return;const e=this.getDialogInfo();let i={Type:e.Type,Header:e.Header,CivilNumber:""};(e.Type===this.dialogTypes[1]||e.Type===this.dialogTypes[2])&&(i.CivilNumber=this.transaction.CivilNumber),this.confirm.open(i).pipe((0,l.q)(1),(0,h.h)(a=>a),(0,T.z)(()=>this.transactionService.updateTransactionTerminationStep(this.transactionId,this.CurrentTerminationStep))).subscribe(a=>{a&&this.transactionService.fetchTransactionTerminationInfoFromKFEOCH(this.transactionId).subscribe(r=>{if(this.CurrentTerminationStep=r.transactionInfo.TerminatedTransactions[0].CurrentTerminationStep||0,4==this.CurrentTerminationStep){let p=this.router.url.split("/");p.splice(p.length-2,2,"ongoing-list");let m=p.join("/");this.router.navigateByUrl(m)}})})}openOwnersModal(){this.transactionFrm.invalid||this.dialog.open(Zt,{width:"500px",data:this.transaction.OfficeId}).afterClosed().subscribe(i=>{"saved"===i&&this.transactionService.updateTransactionTerminationStep(this.transactionId,this.CurrentTerminationStep).subscribe(a=>{a&&this.transactionService.fetchTransactionTerminationInfoFromKFEOCH(this.transactionId).subscribe(r=>{this.CurrentTerminationStep=r.transactionInfo.TerminatedTransactions[0].CurrentTerminationStep||0})})})}uploadFile(e,i){if(!e.target?.files||0===e.target?.files.length)return;const a=e.target.files[0],r=new FormData;r.append("File",a),r.append("ParentId",this.transaction.TerminatedTransactions[0].Id?this.transaction.TerminatedTransactions[0].Id.toString():""),r.append("DocumentTypeId",i.Id.toString()),this.documentService.uploadDocument(r).subscribe(c=>{c&&this.ngOnInit()})}openFileInNewWindow(e,i){return this.documentService.getFile(e).subscribe(a=>{if(i){const r=URL.createObjectURL(a);window.open(r)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(_.gz),t.Y36(U.V),t.Y36(I.Z),t.Y36(St.Z),t.Y36(k.z),t.Y36(_.F0),t.Y36(O.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cb-transactions-termination-details"]],decls:21,vars:10,consts:[[1,"office-home-content",3,"ngClass"],[3,"formGroup",4,"ngIf"],["translate",""],[2,"margin-bottom","25px !important"],["translate","",2,"margin-top","10px !important"],[1,"file-list"],[4,"ngFor","ngForOf"],["rowHeight","240","cols","1"],[1,"form-field-container"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"formGroup"],[1,"mat-typography"],["rowHeight","75",1,"non-editable-input",3,"cols"],["controlName","AgentName","type","text",3,"formGroup","label"],["controlName","CivilNumber","type","text",3,"formGroup","label"],["controlName","TransactionLicenseNo","type","text",3,"formGroup","label"],["controlName","FinancialNumber","type","text",3,"formGroup","label"],["controlName","AreaName","type","text",3,"formGroup","label"],["controlName","SectorNumber","type","text",3,"formGroup","label"],["controlName","PlotNumber","type","text",3,"formGroup","label"],["controlName","PropertyNumber","type","text",3,"formGroup","label"],["controlName","PropertyArea","type","text",3,"formGroup","label"],["controlName","CurrentStageMapped","type","text",3,"formGroup","label"],["id","file-upload","type","file","name","fileUpload","accept",".png,.jpg,.jpeg,.pdf",3,"disabled","change"],["input",""],["mat-subheader",""],[1,"full-spacer"],["mat-button","","color","primary","type","button",3,"click",4,"ngIf","ngIfElse"],["uploading",""],["mat-button","","color","primary","type","button",3,"click"],["diameter","30",3,"value"],["mat-list-icon","","class","material-icons-outlined",4,"ngIf","ngIfElse"],["mat-line",""],[3,"click"],["downloading",""],["mat-list-icon","",1,"material-icons-outlined"],["mat-list-icon","","diameter","30",3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"],["style","margin-right: 1em;",4,"ngIf"],[2,"margin-right","1em"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.YNc(2,kn,52,47,"form",1),t.TgZ(3,"h2",2),t._uU(4," Building Type "),t.qZA(),t.TgZ(5,"div",3)(6,"mat-label"),t._uU(7),t.qZA()(),t.TgZ(8,"h2",4),t._uU(9," Complete Transaction Termination Requirements "),t.qZA(),t.TgZ(10,"small",2),t._uU(11," Accepted extensions .png,.jpg,.jpeg,.pdf - Max Size: 5MB "),t.qZA(),t.TgZ(12,"mat-list",5),t.YNc(13,Hn,14,11,"ng-container",6),t.qZA(),t.TgZ(14,"mat-grid-list",7)(15,"mat-grid-tile")(16,"div",8),t.YNc(17,Gn,4,2,"button",9),t.YNc(18,zn,4,2,"button",9),t.YNc(19,jn,4,2,"button",9),t.YNc(20,Xn,3,1,"button",9),t.qZA()()()()),2&e&&(t.Q6J("ngClass",t.lcZ(1,8,i.isHandset)?"office-home-content-handset":""),t.xp6(2),t.Q6J("ngIf",i.transactionFrm),t.xp6(5),t.Oqu(i.BuildingType),t.xp6(6),t.Q6J("ngForOf",i.cbTerminationDocuments),t.xp6(4),t.Q6J("ngIf",i.CurrentTerminationStep>=0),t.xp6(1),t.Q6J("ngIf",i.CurrentTerminationStep>=0),t.xp6(1),t.Q6J("ngIf",i.CurrentTerminationStep>=0),t.xp6(1),t.Q6J("ngIf",i.CurrentTerminationStep>=0))},dependencies:[d.mk,d.sg,d.O5,v.Pi,Q.Hw,A.i$,A.Tg,C.X2,A.Nh,A.gs,it.d,N.Il,N.DX,u._Y,u.JL,u.sg,G.a,w.lW,R.hX,H.Ou,d.Ov,v.X$,P.g]}),n})(),Wn=(()=>{class n{constructor(e,i,a,r,c,p){this.deviceService=e,this.languageService=i,this.accountService=a,this.transactionService=r,this.route=c,this.router=p,this.officeId=this.accountService.getOfficeId()||0,this.isHandset=this.deviceService.isHandset$,this.isLoading=this.transactionService.isLoading$,this.columns=[],this.filter=new at.H1,this.language$=this.languageService.currentLanguage$}ngOnInit(){this.transactions=this.route.parent.parent.parent.paramMap.pipe((0,l.q)(1),(0,M.U)(e=>e.get("id")?(this.officeId=+e.get("id"),this.officeId):this.officeId??0),(0,y.w)(e=>this.transactionService.getAllOfficeTerminationTransactions(e).pipe((0,l.q)(1),(0,b.b)(()=>{this.isHandset.subscribe(i=>{this.columns=i?this.officeId?S.ju.handset.filter(a=>!a.Name?.includes("Office Name")):S.ju.handset:this.officeId?S.ju.nonHandset.filter(a=>!a.Name?.includes("Office Name")):S.ju.nonHandset})}))))}goToRequest(e){this.router.navigate([e.Id],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.U),t.Y36(I.Z),t.Y36(L.B),t.Y36(U.V),t.Y36(_.gz),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cb-transactions-termination-list"]],decls:9,vars:9,consts:[[1,"office-home-content",3,"ngClass"],["translate","",1,"mat-h1"],["translate","",1,"mat-h3"],["translate","",1,"no-margin"],[3,"language$","data","isLoading","havePaging","columnsDef","clickable","rowClicked"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3," Credit Bank Transactions "),t.qZA(),t.TgZ(4,"h3",2),t._uU(5," List & view under termination transactions "),t.qZA(),t.TgZ(6,"p",3),t._uU(7," Click on a transaction to show information "),t.qZA(),t.TgZ(8,"app-dynamic-data-table",4),t.NdJ("rowClicked",function(r){return i.goToRequest(r)}),t.qZA()()),2&e&&(t.Q6J("ngClass",t.lcZ(1,7,i.isHandset)?"office-home-content-handset":""),t.xp6(8),t.Q6J("language$",i.language$)("data",i.transactions)("isLoading",i.isLoading)("havePaging",!0)("columnsDef",i.columns)("clickable",!0))},dependencies:[d.mk,v.Pi,ot.j,d.Ov]}),n})();const ei=[{path:"",component:Qe,children:[{path:"",pathMatch:"full",redirectTo:"ongoing-list"},{path:"ongoing-list",component:rt},{path:"ongoing-list/:id",component:ct},{path:"ongoing-list/:id/termination",component:Pn,canActivate:[s(4210).a],data:{Roles:["Administrator","OfficeManager"]}},{path:"completed-list",component:rt},{path:"completed-list/:id",component:ct},{path:"archived-list",component:rt},{path:"archived-list/:id",component:ct},{path:"termination-list",component:Wn},{path:"termination-list/:id",component:Vn},{path:"certificates-list",component:Un},{path:"new",component:Le}]}];let ni=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(ei),_.Bz]}),n})(),ii=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[P.g],imports:[d.ez,v.aw,ni,Y.SJ,Q.Ps,Ct.g0,A.ie,N.N6,u.UX,ue.w,me.m,w.ot,Vt.c,R.lN,pe.t,Xt,H.Cq,j.QW,O.Is,le,de.p0,Nt.LD,u.u5]}),n})()}}]);